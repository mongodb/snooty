import remarkParse from "remark-parse";
import { unified } from "unified";

export const loadFile = () => {
  return {
    type: "page",
    data: {
      _id: "67bf2b724f2bee433a27e359",
      page_id: "docs/docsworker-xlarge/master/changeStreams",
      ast: {
        type: "root",
        position: { start: { line: 0 } },
        children: [
          {
            type: "target",
            position: { start: { line: 4 } },
            children: [
              {
                type: "target_identifier",
                position: { start: { line: 4 } },
                children: [
                  {
                    type: "text",
                    position: { start: { line: 9 } },
                    value: "Change Streams",
                  },
                ],
                ids: ["changeStreams"],
              },
            ],
            domain: "std",
            name: "label",
            html_id: "std-label-changeStreams",
          },
          {
            type: "target",
            position: { start: { line: 5 } },
            children: [
              {
                type: "target_identifier",
                position: { start: { line: 5 } },
                children: [
                  {
                    type: "text",
                    position: { start: { line: 9 } },
                    value: "Change Streams",
                  },
                ],
                ids: ["collection_watch"],
              },
            ],
            domain: "std",
            name: "label",
            html_id: "std-label-collection_watch",
          },
          {
            type: "section",
            position: { start: { line: 9 } },
            children: [
              {
                type: "heading",
                position: { start: { line: 9 } },
                children: [
                  {
                    type: "text",
                    position: { start: { line: 9 } },
                    value: "Change Streams",
                  },
                ],
                id: "change-streams",
              },
              {
                type: "directive",
                position: { start: { line: 11 } },
                children: [],
                domain: "",
                name: "default-domain",
                argument: [
                  {
                    type: "text",
                    position: { start: { line: 11 } },
                    value: "mongodb",
                  },
                ],
              },
              {
                type: "directive",
                position: { start: { line: 13 } },
                children: [],
                domain: "mongodb",
                name: "facet",
                argument: [],
                options: { name: "genre", values: "reference" },
              },
              {
                type: "directive",
                position: { start: { line: 17 } },
                children: [],
                domain: "",
                name: "contents",
                argument: [
                  {
                    type: "text",
                    position: { start: { line: 17 } },
                    value: "On this page",
                  },
                ],
                options: {
                  local: true,
                  backlinks: "none",
                  depth: 1,
                  class: "twocols",
                },
              },
              {
                type: "directive",
                position: { start: { line: 23 } },
                children: [],
                domain: "",
                name: "meta",
                argument: [],
                options: {
                  description:
                    "Change streams code examples for how to access real-time data changes in MongoDB",
                  keywords:
                    "database triggers, code example, node.js, motor, coroutine, java sync, swift sync, swift async, compass",
                },
              },
              {
                type: "paragraph",
                position: { start: { line: 27 } },
                children: [
                  {
                    type: "text",
                    position: { start: { line: 27 } },
                    value:
                      "Change streams allow applications to access real-time data changes\nwithout the prior complexity and risk of manually tailing the ",
                  },
                  {
                    type: "ref_role",
                    position: { start: { line: 27 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 27 } },
                        value: "oplog",
                      },
                    ],
                    domain: "std",
                    name: "term",
                    target: "oplog",
                    flag: "",
                    fileid: ["reference/glossary", "std-term-oplog"],
                  },
                  {
                    type: "text",
                    position: { start: { line: 27 } },
                    value:
                      ".\nApplications can use change streams to subscribe to all data changes on\na single collection, a database, or an entire deployment, and\nimmediately react to them. Because change streams use the aggregation\nframework, applications can also filter for specific changes or\ntransform the notifications at will.",
                  },
                ],
              },
              {
                type: "substitution_definition",
                position: { start: { line: 35 } },
                children: [
                  {
                    type: "text",
                    position: { start: { line: 35 } },
                    value: "change streams",
                  },
                ],
                name: "change-streams",
              },
              {
                type: "directive",
                position: { start: { line: 37 } },
                children: [
                  {
                    type: "root",
                    position: { start: { line: 0 } },
                    children: [
                      {
                        type: "paragraph",
                        position: { start: { line: 0 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 0 } },
                            value: "Starting in MongoDB 5.1, ",
                          },
                          {
                            type: "substitution_reference",
                            position: { start: { line: 0 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 35 } },
                                value: "change streams",
                              },
                            ],
                            name: "change-streams",
                          },
                          {
                            type: "text",
                            position: { start: { line: 0 } },
                            value:
                              " are optimized, providing more\nefficient resource utilization and faster execution of some aggregation\npipeline stages.",
                          },
                        ],
                      },
                    ],
                    fileid: "includes/change-streams-optimization.rst",
                  },
                ],
                domain: "",
                name: "include",
                argument: [
                  {
                    type: "text",
                    position: { start: { line: 37 } },
                    value: "/includes/change-streams-optimization.rst",
                  },
                ],
              },
              {
                type: "section",
                position: { start: { line: 40 } },
                children: [
                  {
                    type: "heading",
                    position: { start: { line: 40 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 40 } },
                        value: "Availability",
                      },
                    ],
                    id: "availability",
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 42 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 42 } },
                        value: "Change streams are available for ",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 42 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 42 } },
                            value: "replica sets",
                          },
                        ],
                        domain: "std",
                        name: "label",
                        target: "replication",
                        flag: "",
                        fileid: ["replication", "std-label-replication"],
                      },
                      {
                        type: "text",
                        position: { start: { line: 42 } },
                        value: " and\n",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 42 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 42 } },
                            value: "sharded clusters",
                          },
                        ],
                        domain: "std",
                        name: "label",
                        target: "sharding-background",
                        flag: "",
                        fileid: ["sharding", "std-label-sharding-background"],
                      },
                      {
                        type: "text",
                        position: { start: { line: 42 } },
                        value: ":",
                      },
                    ],
                  },
                  {
                    type: "list",
                    position: { start: { line: 45 } },
                    children: [
                      {
                        type: "listItem",
                        position: { start: { line: 45 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 45 } },
                            children: [
                              {
                                type: "strong",
                                position: { start: { line: 45 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 45 } },
                                    value: "Storage Engine.",
                                  },
                                ],
                              },
                            ],
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 47 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 47 } },
                                value:
                                  "The replica sets and sharded clusters must use the ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 47 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 47 } },
                                    value: "WiredTiger",
                                  },
                                ],
                                domain: "std",
                                name: "label",
                                target: "storage-wiredtiger",
                                flag: "",
                                fileid: [
                                  "core/wiredtiger",
                                  "std-label-storage-wiredtiger",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 47 } },
                                value:
                                  " storage engine. Change streams can also be used\non deployments that employ MongoDB's\n",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 47 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 47 } },
                                    value: "encryption-at-rest",
                                  },
                                ],
                                domain: "std",
                                name: "label",
                                target: "encrypted-storage-engine",
                                flag: "",
                                fileid: [
                                  "core/security-encryption-at-rest",
                                  "std-label-encrypted-storage-engine",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 47 } },
                                value: " feature.",
                              },
                            ],
                          },
                        ],
                      },
                      {
                        type: "listItem",
                        position: { start: { line: 45 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 52 } },
                            children: [
                              {
                                type: "strong",
                                position: { start: { line: 52 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 52 } },
                                    value: "Replica Set Protocol Version.",
                                  },
                                ],
                              },
                            ],
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 54 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 54 } },
                                value:
                                  "The replica sets and sharded clusters must use replica set protocol\nversion 1 (",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 54 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 54 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 54 } },
                                        value: "pv1",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "rsconf",
                                target: "rsconf.protocolVersion",
                                flag: "",
                                fileid: [
                                  "reference/replica-configuration",
                                  "mongodb-rsconf-rsconf.protocolVersion",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 54 } },
                                value: ").",
                              },
                            ],
                          },
                        ],
                      },
                      {
                        type: "listItem",
                        position: { start: { line: 45 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 57 } },
                            children: [
                              {
                                type: "strong",
                                position: { start: { line: 57 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 57 } },
                                    value:
                                      'Read Concern "majority" Enablement.',
                                  },
                                ],
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 59 } },
                            children: [
                              {
                                type: "root",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "directive",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                value: "Change streams",
                                              },
                                            ],
                                            domain: "std",
                                            name: "label",
                                            target: "changeStreams",
                                            flag: "",
                                            fileid: [
                                              "changeStreams",
                                              "std-label-changeStreams",
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value:
                                              " are\navailable regardless of the ",
                                          },
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    value: '"majority"',
                                                  },
                                                ],
                                              },
                                            ],
                                            domain: "mongodb",
                                            name: "readconcern",
                                            target: 'readconcern."majority"',
                                            flag: "",
                                            fileid: [
                                              "reference/read-concern-majority",
                                              "mongodb-readconcern-readconcern.-majority-",
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value:
                                              " read concern\nsupport; that is, read concern ",
                                          },
                                          {
                                            type: "literal",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                value: "majority",
                                              },
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value:
                                              " support can be either\nenabled (default) or ",
                                          },
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                value: "disabled",
                                              },
                                            ],
                                            domain: "std",
                                            name: "label",
                                            target:
                                              "disable-read-concern-majority",
                                            flag: "",
                                            fileid: [
                                              "reference/read-concern-majority",
                                              "std-label-disable-read-concern-majority",
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: "\nto use change streams.",
                                          },
                                        ],
                                      },
                                    ],
                                    domain: "",
                                    name: "extract",
                                    argument: [],
                                  },
                                ],
                                fileid: "includes/extracts-changestream.yaml",
                              },
                            ],
                            domain: "",
                            name: "include",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 59 } },
                                value:
                                  "/includes/extracts/changestream-rc-majority-4.2.rst",
                              },
                            ],
                          },
                        ],
                      },
                    ],
                    enumtype: "unordered",
                  },
                  {
                    type: "section",
                    position: { start: { line: 62 } },
                    children: [
                      {
                        type: "heading",
                        position: { start: { line: 62 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 62 } },
                            value: "Stable API Support",
                          },
                        ],
                        id: "stable-api-support",
                      },
                      {
                        type: "directive",
                        position: { start: { line: 64 } },
                        children: [
                          {
                            type: "root",
                            position: { start: { line: 0 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 0 } },
                                    value: "Change streams are included in ",
                                  },
                                  {
                                    type: "ref_role",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: "Stable API",
                                      },
                                    ],
                                    domain: "std",
                                    name: "label",
                                    target: "stable-api",
                                    flag: "",
                                    fileid: [
                                      "reference/stable-api",
                                      "std-label-stable-api",
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 0 } },
                                    value: " V1.\nHowever, the ",
                                  },
                                  {
                                    type: "ref_role",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: "showExpandedEvents",
                                      },
                                    ],
                                    domain: "std",
                                    name: "label",
                                    target: "change-streams-expanded-events",
                                    flag: "",
                                    fileid: [
                                      "reference/change-events",
                                      "std-label-change-streams-expanded-events",
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 0 } },
                                    value:
                                      "\noption is not included in Stable API V1.",
                                  },
                                ],
                              },
                            ],
                            fileid:
                              "includes/stable-api/change-stream-support.rst",
                          },
                        ],
                        domain: "",
                        name: "include",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 64 } },
                            value:
                              "/includes/stable-api/change-stream-support.rst",
                          },
                        ],
                      },
                    ],
                  },
                ],
              },
              {
                type: "section",
                position: { start: { line: 67 } },
                children: [
                  {
                    type: "heading",
                    position: { start: { line: 67 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 67 } },
                        value: "Connect",
                      },
                    ],
                    id: "connect",
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 69 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 69 } },
                        value:
                          "Connections for a change stream can either use DNS seed lists\nwith the ",
                      },
                      {
                        type: "literal",
                        position: { start: { line: 69 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 69 } },
                            value: "+srv",
                          },
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 69 } },
                        value:
                          " connection option or by listing the servers individually\nin the connection string.",
                      },
                    ],
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 73 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 73 } },
                        value:
                          "If the driver loses the connection to a change stream or the connection goes\ndown, it attempts to reestablish a connection to the change stream through\nanother node in the cluster that has a matching\n",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 73 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 73 } },
                            value: "read preference",
                          },
                        ],
                        domain: "std",
                        name: "label",
                        target: "connections-read-preference",
                        flag: "",
                        fileid: [
                          "reference/connection-string-options",
                          "std-label-connections-read-preference",
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 73 } },
                        value:
                          ". If the driver cannot find\na node with the correct read preference, it throws an exception.",
                      },
                    ],
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 79 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 79 } },
                        value: "For more information, see ",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 79 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 79 } },
                            value: "Connection String URI Format",
                          },
                        ],
                        domain: "std",
                        name: "label",
                        target: "mongodb-uri",
                        flag: "",
                        fileid: [
                          "reference/connection-string",
                          "std-label-mongodb-uri",
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 79 } },
                        value: ".",
                      },
                    ],
                  },
                  {
                    type: "target",
                    position: { start: { line: 81 } },
                    children: [
                      {
                        type: "target_identifier",
                        position: { start: { line: 81 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 84 } },
                            value:
                              "Watch a Collection, Database, or Deployment",
                          },
                        ],
                        ids: ["changeStreams-watch-deployment"],
                      },
                    ],
                    domain: "std",
                    name: "label",
                    html_id: "std-label-changeStreams-watch-deployment",
                  },
                ],
              },
              {
                type: "section",
                position: { start: { line: 84 } },
                children: [
                  {
                    type: "heading",
                    position: { start: { line: 84 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 84 } },
                        value: "Watch a Collection, Database, or Deployment",
                      },
                    ],
                    id: "watch-a-collection--database--or-deployment",
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 86 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 86 } },
                        value: "You can open change streams against:",
                      },
                    ],
                  },
                  {
                    type: "directive",
                    position: { start: { line: 88 } },
                    children: [
                      {
                        type: "list",
                        position: { start: { line: 92 } },
                        children: [
                          {
                            type: "listItem",
                            position: { start: { line: 92 } },
                            children: [
                              {
                                type: "list",
                                position: { start: { line: 92 } },
                                children: [
                                  {
                                    type: "listItem",
                                    position: { start: { line: 92 } },
                                    children: [
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 92 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 92 } },
                                            value: "Target",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                  {
                                    type: "listItem",
                                    position: { start: { line: 92 } },
                                    children: [
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 93 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 93 } },
                                            value: "Description",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                ],
                                enumtype: "unordered",
                              },
                            ],
                          },
                          {
                            type: "listItem",
                            position: { start: { line: 92 } },
                            children: [
                              {
                                type: "list",
                                position: { start: { line: 95 } },
                                children: [
                                  {
                                    type: "listItem",
                                    position: { start: { line: 95 } },
                                    children: [
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 95 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 95 } },
                                            value: "A collection",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                  {
                                    type: "listItem",
                                    position: { start: { line: 95 } },
                                    children: [
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 97 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 97 } },
                                            value:
                                              "You can open a change stream cursor for a single collection\n(except ",
                                          },
                                          {
                                            type: "literal",
                                            position: { start: { line: 97 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 97 },
                                                },
                                                value: "system",
                                              },
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 97 } },
                                            value:
                                              " collections, or any collections in the\n",
                                          },
                                          {
                                            type: "literal",
                                            position: { start: { line: 97 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 97 },
                                                },
                                                value: "admin",
                                              },
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 97 } },
                                            value: ", ",
                                          },
                                          {
                                            type: "literal",
                                            position: { start: { line: 97 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 97 },
                                                },
                                                value: "local",
                                              },
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 97 } },
                                            value: ", and ",
                                          },
                                          {
                                            type: "literal",
                                            position: { start: { line: 97 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 97 },
                                                },
                                                value: "config",
                                              },
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 97 } },
                                            value: " databases).",
                                          },
                                        ],
                                      },
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 101 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 101 } },
                                            value:
                                              "The examples on this page use the MongoDB drivers to open and\nwork with a change stream cursor for a single collection. See\nalso the ",
                                          },
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 101 } },
                                            children: [
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 101 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 101 },
                                                    },
                                                    value: "mongosh",
                                                  },
                                                ],
                                              },
                                            ],
                                            domain: "mongodb",
                                            name: "binary",
                                            target: "bin.mongosh",
                                            flag: "~",
                                            url: "https://www.mongodb.com/docs/mongodb-shell/#mongodb-binary-bin.mongosh",
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 101 } },
                                            value: " method\n",
                                          },
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 101 } },
                                            children: [
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 101 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 101 },
                                                    },
                                                    value:
                                                      "db.collection.watch()",
                                                  },
                                                ],
                                              },
                                            ],
                                            domain: "mongodb",
                                            name: "method",
                                            target: "db.collection.watch",
                                            flag: "",
                                            fileid: [
                                              "reference/method/db.collection.watch",
                                              "mongodb-method-db.collection.watch",
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 101 } },
                                            value: ".",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                ],
                                enumtype: "unordered",
                              },
                            ],
                          },
                          {
                            type: "listItem",
                            position: { start: { line: 92 } },
                            children: [
                              {
                                type: "list",
                                position: { start: { line: 106 } },
                                children: [
                                  {
                                    type: "listItem",
                                    position: { start: { line: 106 } },
                                    children: [
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 106 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 106 } },
                                            value: "A database",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                  {
                                    type: "listItem",
                                    position: { start: { line: 106 } },
                                    children: [
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 108 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 108 } },
                                            value:
                                              "You can open a change stream cursor for a single database (excluding\n",
                                          },
                                          {
                                            type: "literal",
                                            position: { start: { line: 108 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 108 },
                                                },
                                                value: "admin",
                                              },
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 108 } },
                                            value: ", ",
                                          },
                                          {
                                            type: "literal",
                                            position: { start: { line: 108 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 108 },
                                                },
                                                value: "local",
                                              },
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 108 } },
                                            value: ", and ",
                                          },
                                          {
                                            type: "literal",
                                            position: { start: { line: 108 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 108 },
                                                },
                                                value: "config",
                                              },
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 108 } },
                                            value:
                                              " database) to watch for changes to\nall its non-system collections.",
                                          },
                                        ],
                                      },
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 112 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 112 } },
                                            value:
                                              "For the MongoDB driver method, refer to your driver\ndocumentation. See also the ",
                                          },
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 112 } },
                                            children: [
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 112 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 112 },
                                                    },
                                                    value: "mongosh",
                                                  },
                                                ],
                                              },
                                            ],
                                            domain: "mongodb",
                                            name: "binary",
                                            target: "bin.mongosh",
                                            flag: "~",
                                            url: "https://www.mongodb.com/docs/mongodb-shell/#mongodb-binary-bin.mongosh",
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 112 } },
                                            value: " method\n",
                                          },
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 112 } },
                                            children: [
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 112 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 112 },
                                                    },
                                                    value: "db.watch()",
                                                  },
                                                ],
                                              },
                                            ],
                                            domain: "mongodb",
                                            name: "method",
                                            target: "db.watch",
                                            flag: "",
                                            fileid: [
                                              "reference/method/db.watch",
                                              "mongodb-method-db.watch",
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 112 } },
                                            value: ".",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                ],
                                enumtype: "unordered",
                              },
                            ],
                          },
                          {
                            type: "listItem",
                            position: { start: { line: 92 } },
                            children: [
                              {
                                type: "list",
                                position: { start: { line: 117 } },
                                children: [
                                  {
                                    type: "listItem",
                                    position: { start: { line: 117 } },
                                    children: [
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 117 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 117 } },
                                            value: "A deployment",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                  {
                                    type: "listItem",
                                    position: { start: { line: 117 } },
                                    children: [
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 119 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 119 } },
                                            value:
                                              "You can open a change stream cursor for a deployment (either a replica\nset or a sharded cluster) to watch for changes to all non-system\ncollections across all databases except for ",
                                          },
                                          {
                                            type: "literal",
                                            position: { start: { line: 119 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 119 },
                                                },
                                                value: "admin",
                                              },
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 119 } },
                                            value: ", ",
                                          },
                                          {
                                            type: "literal",
                                            position: { start: { line: 119 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 119 },
                                                },
                                                value: "local",
                                              },
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 119 } },
                                            value: ", and\n",
                                          },
                                          {
                                            type: "literal",
                                            position: { start: { line: 119 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 119 },
                                                },
                                                value: "config",
                                              },
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 119 } },
                                            value: ".",
                                          },
                                        ],
                                      },
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 124 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 124 } },
                                            value:
                                              "For the MongoDB driver method, refer to your driver\ndocumentation. See also the ",
                                          },
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 124 } },
                                            children: [
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 124 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 124 },
                                                    },
                                                    value: "mongosh",
                                                  },
                                                ],
                                              },
                                            ],
                                            domain: "mongodb",
                                            name: "binary",
                                            target: "bin.mongosh",
                                            flag: "~",
                                            url: "https://www.mongodb.com/docs/mongodb-shell/#mongodb-binary-bin.mongosh",
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 124 } },
                                            value: " method\n",
                                          },
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 124 } },
                                            children: [
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 124 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 124 },
                                                    },
                                                    value: "Mongo.watch()",
                                                  },
                                                ],
                                              },
                                            ],
                                            domain: "mongodb",
                                            name: "method",
                                            target: "Mongo.watch",
                                            flag: "",
                                            fileid: [
                                              "reference/method/Mongo.watch",
                                              "mongodb-method-Mongo.watch",
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 124 } },
                                            value: ".",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                ],
                                enumtype: "unordered",
                              },
                            ],
                          },
                        ],
                        enumtype: "unordered",
                      },
                    ],
                    domain: "",
                    name: "list-table",
                    argument: [],
                    options: { "header-rows": 1, widths: "15 85" },
                  },
                  {
                    type: "directive",
                    position: { start: { line: 128 } },
                    children: [
                      {
                        type: "paragraph",
                        position: { start: { line: 130 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 130 } },
                            value:
                              "The examples on this page use the MongoDB drivers to illustrate how\nto open a change stream cursor for a collection and work with the\nchange stream cursor.",
                          },
                        ],
                      },
                    ],
                    domain: "",
                    name: "note",
                    argument: [
                      {
                        type: "text",
                        position: { start: { line: 128 } },
                        value: "Change Stream Examples",
                      },
                    ],
                  },
                ],
              },
              {
                type: "section",
                position: { start: { line: 135 } },
                children: [
                  {
                    type: "heading",
                    position: { start: { line: 135 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 135 } },
                        value: "Change Stream Performance Considerations",
                      },
                    ],
                    id: "change-stream-performance-considerations",
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 137 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 137 } },
                        value:
                          "If the amount of active change streams opened against a database exceeds the\n",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 137 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 137 } },
                            value: "connection pool size",
                          },
                        ],
                        domain: "std",
                        name: "label",
                        target: "connection-pool-overview",
                        flag: "",
                        fileid: [
                          "administration/connection-pool-overview",
                          "std-label-connection-pool-overview",
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 137 } },
                        value:
                          ", you may\nexperience notification latency. Each change stream uses a connection\nand a ",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 137 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 137 } },
                            value: "getMore",
                          },
                        ],
                        domain: "std",
                        name: "label",
                        target: "manual-reference-commands-getMore",
                        flag: "",
                        fileid: [
                          "reference/command/getMore",
                          "std-label-manual-reference-commands-getMore",
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 137 } },
                        value:
                          "\noperation on the change stream for the period of time that it waits for the next event.\nTo avoid any latency issues, you should ensure that the pool size is greater than the\nnumber of opened change streams. For details see the ",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 137 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 137 } },
                            value: "maxPoolSize",
                          },
                        ],
                        domain: "std",
                        name: "label",
                        target: "maxpoolsize-cp-setting",
                        flag: "",
                        fileid: [
                          "administration/connection-pool-overview",
                          "std-label-maxpoolsize-cp-setting",
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 137 } },
                        value: " setting.",
                      },
                    ],
                  },
                  {
                    type: "section",
                    position: { start: { line: 146 } },
                    children: [
                      {
                        type: "heading",
                        position: { start: { line: 146 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 146 } },
                            value: "Sharded Cluster Considerations",
                          },
                        ],
                        id: "sharded-cluster-considerations",
                      },
                      {
                        type: "paragraph",
                        position: { start: { line: 148 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 148 } },
                            value:
                              "When a change stream is opened on a sharded cluster:",
                          },
                        ],
                      },
                      {
                        type: "list",
                        position: { start: { line: 150 } },
                        children: [
                          {
                            type: "listItem",
                            position: { start: { line: 150 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 150 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 150 } },
                                    value: "The ",
                                  },
                                  {
                                    type: "ref_role",
                                    position: { start: { line: 150 } },
                                    children: [
                                      {
                                        type: "literal",
                                        position: { start: { line: 150 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 150 } },
                                            value: "mongos",
                                          },
                                        ],
                                      },
                                    ],
                                    domain: "mongodb",
                                    name: "binary",
                                    target: "bin.mongos",
                                    flag: "",
                                    fileid: [
                                      "reference/program/mongos",
                                      "mongodb-binary-bin.mongos",
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 150 } },
                                    value:
                                      " creates individual change streams on ",
                                  },
                                  {
                                    type: "strong",
                                    position: { start: { line: 150 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 150 } },
                                        value: "each\nshard",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 150 } },
                                    value:
                                      ". This behavior occurs regardless of whether the change stream\ntargets a particular shard key range.",
                                  },
                                ],
                              },
                            ],
                          },
                          {
                            type: "listItem",
                            position: { start: { line: 150 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 154 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 154 } },
                                    value: "When the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 154 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 154 } },
                                        value: "mongos",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 154 } },
                                    value:
                                      " receives change stream results, it sorts and\nfilters those results. If needed, the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 154 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 154 } },
                                        value: "mongos",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 154 } },
                                    value: " also performs a\n",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 154 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 154 } },
                                        value: "fullDocument",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 154 } },
                                    value: " lookup.",
                                  },
                                ],
                              },
                            ],
                          },
                        ],
                        enumtype: "unordered",
                      },
                      {
                        type: "paragraph",
                        position: { start: { line: 158 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 158 } },
                            value: "For best performance, limit the use of ",
                          },
                          {
                            type: "ref_role",
                            position: { start: { line: 158 } },
                            children: [
                              {
                                type: "literal",
                                position: { start: { line: 158 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 158 } },
                                    value: "$lookup",
                                  },
                                ],
                              },
                            ],
                            domain: "mongodb",
                            name: "pipeline",
                            target: "pipe.$lookup",
                            flag: "",
                            fileid: [
                              "reference/operator/aggregation/lookup",
                              "mongodb-pipeline-pipe.-lookup",
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 158 } },
                            value: " queries in\nchange streams.",
                          },
                        ],
                      },
                      {
                        type: "target",
                        position: { start: { line: 161 } },
                        children: [
                          {
                            type: "target_identifier",
                            position: { start: { line: 161 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 164 } },
                                value: "Open A Change Stream",
                              },
                            ],
                            ids: ["open-change-stream"],
                          },
                        ],
                        domain: "std",
                        name: "label",
                        html_id: "std-label-open-change-stream",
                      },
                    ],
                  },
                ],
              },
              {
                type: "section",
                position: { start: { line: 164 } },
                children: [
                  {
                    type: "heading",
                    position: { start: { line: 164 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 164 } },
                        value: "Open A Change Stream",
                      },
                    ],
                    id: "open-a-change-stream",
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 166 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 166 } },
                        value: "To open a change stream:",
                      },
                    ],
                  },
                  {
                    type: "list",
                    position: { start: { line: 168 } },
                    children: [
                      {
                        type: "listItem",
                        position: { start: { line: 168 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 168 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 168 } },
                                value:
                                  "For a replica set, you can issue the open change stream operation\nfrom any of the data-bearing members.",
                              },
                            ],
                          },
                        ],
                      },
                      {
                        type: "listItem",
                        position: { start: { line: 168 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 171 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 171 } },
                                value:
                                  "For a sharded cluster, you must issue the open change stream\noperation from the ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 171 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 171 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 171 } },
                                        value: "mongos",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "binary",
                                target: "bin.mongos",
                                flag: "~",
                                fileid: [
                                  "reference/program/mongos",
                                  "mongodb-binary-bin.mongos",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 171 } },
                                value: ".",
                              },
                            ],
                          },
                        ],
                      },
                    ],
                    enumtype: "unordered",
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 174 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 174 } },
                        value:
                          "The following example opens a change stream for a collection and\niterates over the cursor to retrieve the change stream documents.\n",
                      },
                      {
                        type: "footnote_reference",
                        position: { start: { line: 174 } },
                        children: [],
                        id: "id1",
                        refname: "start-time",
                      },
                    ],
                  },
                  { type: "transition", position: { start: { line: 178 } } },
                  {
                    type: "substitution_definition",
                    position: { start: { line: 180 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 180 } },
                        value: "",
                      },
                    ],
                    name: "arrow",
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 182 } },
                    children: [
                      {
                        type: "substitution_reference",
                        position: { start: { line: 182 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 180 } },
                            value: "",
                          },
                        ],
                        name: "arrow",
                      },
                      {
                        type: "text",
                        position: { start: { line: 182 } },
                        value: " Use the ",
                      },
                      {
                        type: "strong",
                        position: { start: { line: 182 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 182 } },
                            value: "Select your language",
                          },
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 182 } },
                        value:
                          " drop-down menu in the\nupper-right to set the language of the examples on this page.",
                      },
                    ],
                  },
                  { type: "transition", position: { start: { line: 185 } } },
                  {
                    type: "directive",
                    position: { start: { line: 187 } },
                    children: [],
                    domain: "",
                    name: "tabs-selector",
                    argument: [
                      {
                        type: "text",
                        position: { start: { line: 187 } },
                        value: "drivers",
                      },
                    ],
                  },
                  {
                    type: "directive",
                    position: { start: { line: 189 } },
                    children: [
                      {
                        type: "directive",
                        position: { start: { line: 255 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 258 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 258 } },
                                value:
                                  "The C examples below assume that you have ",
                              },
                              {
                                type: "reference",
                                position: { start: { line: 258 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 258 } },
                                    value:
                                      "connected to a MongoDB replica set and have accessed a database",
                                  },
                                ],
                                refuri:
                                  "https://www.mongodb.com/docs/languages/c/c-driver/current/databases-collections/#access-a-database",
                              },
                              {
                                type: "text",
                                position: { start: { line: 258 } },
                                value: "\nthat contains an ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 258 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 258 } },
                                    value: "inventory",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 258 } },
                                value: " collection.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 262 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 262 } },
                                lang: "c",
                                copyable: true,
                                value:
                                  'mongoc_collection_t *collection;\nbson_t *pipeline = bson_new ();\nbson_t opts = BSON_INITIALIZER;\nmongoc_change_stream_t *stream;\nconst bson_t *change;\nconst bson_t *resume_token;\nbson_error_t error;\n\ncollection = mongoc_database_get_collection (db, "inventory");\nstream = mongoc_collection_watch (collection, pipeline, NULL /* opts */);\nmongoc_change_stream_next (stream, &change);\nif (mongoc_change_stream_error_document (stream, &error, NULL)) {\n   MONGOC_ERROR ("%s\\n", error.message);\n}\n\nmongoc_change_stream_destroy (stream);',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 262 } },
                                value:
                                  "/driver-examples/test-mongoc-sample-commands.c",
                              },
                            ],
                            options: {
                              language: "c",
                              dedent: 3,
                              "start-after": "Start Changestream Example 1",
                              "end-before": "End Changestream Example 1",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 189 } },
                            value: "C",
                          },
                        ],
                        options: { tabid: "c" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 242 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 245 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 245 } },
                                value:
                                  "The C# examples below assume that you have ",
                              },
                              {
                                type: "reference",
                                position: { start: { line: 245 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 245 } },
                                    value:
                                      "connected to a MongoDB replica set and have accessed a database",
                                  },
                                ],
                                refuri:
                                  "http://mongodb.github.io/mongo-csharp-driver/2.4/getting_started/quick_tour/#make-a-connection/",
                              },
                              {
                                type: "text",
                                position: { start: { line: 245 } },
                                value: "\nthat contains an ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 245 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 245 } },
                                    value: "inventory",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 245 } },
                                value: " collection.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 249 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 249 } },
                                lang: "csharp",
                                copyable: true,
                                value:
                                  "var cursor = inventory.Watch();\nwhile (cursor.MoveNext() && cursor.Current.Count() == 0) { } // keep calling MoveNext until we've read the first batch\nvar next = cursor.Current.First();\ncursor.Dispose();",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 249 } },
                                value:
                                  "/driver-examples/ChangeStreamExamples.cs",
                              },
                            ],
                            options: {
                              language: "csharp",
                              dedent: 12,
                              "start-after": "Start Changestream Example 1",
                              "end-before": "End Changestream Example 1",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 189 } },
                            value: "C#",
                          },
                        ],
                        options: { tabid: "csharp" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 321 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 324 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 324 } },
                                value:
                                  "The Go examples below assume that you have ",
                              },
                              {
                                type: "reference",
                                position: { start: { line: 324 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 324 } },
                                    value:
                                      "connected to a MongoDB replica set and have accessed a database",
                                  },
                                ],
                                refuri:
                                  "https://godoc.org/go.mongodb.org/mongo-driver/mongo#NewClient/",
                              },
                              {
                                type: "text",
                                position: { start: { line: 324 } },
                                value: "\nthat contains an ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 324 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 324 } },
                                    value: "inventory",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 324 } },
                                value: " collection.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 328 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 328 } },
                                lang: "go",
                                copyable: true,
                                value:
                                  "\ncs, err := coll.Watch(ctx, mongo.Pipeline{})\nassert.NoError(t, err)\ndefer cs.Close(ctx)\n\nok := cs.Next(ctx)\nnext := cs.Current\n",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 328 } },
                                value: "/driver-examples/go_examples.go",
                              },
                            ],
                            options: {
                              language: "go",
                              dedent: 2,
                              "start-after": "Start Changestream Example 1",
                              "end-before": "End Changestream Example 1",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 189 } },
                            value: "Go",
                          },
                        ],
                        options: { tabid: "go" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 216 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 219 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 219 } },
                                value:
                                  "The Java examples below assume that you have ",
                              },
                              {
                                type: "reference",
                                position: { start: { line: 219 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 219 } },
                                    value:
                                      "connected to a MongoDB replica set and have accessed a database",
                                  },
                                ],
                                refuri:
                                  "http://mongodb.github.io/mongo-java-driver/3.6/driver/tutorials/databases-collections/",
                              },
                              {
                                type: "text",
                                position: { start: { line: 219 } },
                                value: "\nthat contains an ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 219 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 219 } },
                                    value: "inventory",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 219 } },
                                value: " collection.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 223 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 223 } },
                                lang: "java",
                                copyable: true,
                                value:
                                  "MongoCursor<ChangeStreamDocument<Document>> cursor = inventory.watch().iterator();\nChangeStreamDocument<Document> next = cursor.next();",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 223 } },
                                value:
                                  "/driver-examples/DocumentationSamples.java",
                              },
                            ],
                            options: {
                              language: "java",
                              dedent: 8,
                              "start-after": "Start Changestream Example 1",
                              "end-before": "End Changestream Example 1",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 189 } },
                            value: "Java (Sync)",
                          },
                        ],
                        options: { tabid: "java-sync" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 229 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 232 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 232 } },
                                value:
                                  "The Kotlin examples below assume that you are connected to a MongoDB replica set and can access a database\nthat contains the ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 232 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 232 } },
                                    value: "inventory",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 232 } },
                                value:
                                  " collection. To learn more about completing these tasks, see the\n",
                              },
                              {
                                type: "reference",
                                position: { start: { line: 232 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 232 } },
                                    value:
                                      "Kotlin Coroutine Driver Databases and Collections",
                                  },
                                ],
                                refuri:
                                  "https://www.mongodb.com/docs/drivers/kotlin/coroutine/current/fundamentals/databases-collections/",
                              },
                              {
                                type: "text",
                                position: { start: { line: 232 } },
                                value: " guide.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 236 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 236 } },
                                lang: "kotlin",
                                copyable: true,
                                value:
                                  'val job = launch {\n    val changeStream = collection.watch()\n    changeStream.collect {\n        println("Received a change event: $it")\n    }\n}',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 236 } },
                                value: "/driver-examples/kotlin_examples.kt",
                              },
                            ],
                            options: {
                              language: "kotlin",
                              dedent: true,
                              "start-after": "Start Changestream Example 1",
                              "end-before": "End Changestream Example 1",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 189 } },
                            value: "Kotlin (Coroutine)",
                          },
                        ],
                        options: { tabid: "kotlin-coroutine" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 203 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 206 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 206 } },
                                value:
                                  "The examples below assume that you have ",
                              },
                              {
                                type: "reference",
                                position: { start: { line: 206 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 206 } },
                                    value:
                                      "connected to a MongoDB replica set and have accessed a database",
                                  },
                                ],
                                refuri:
                                  "https://motor.readthedocs.io/en/stable/tutorial-asyncio.html#creating-a-client",
                              },
                              {
                                type: "text",
                                position: { start: { line: 206 } },
                                value: "\nthat contains an ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 206 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 206 } },
                                    value: "inventory",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 206 } },
                                value: " collection.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 210 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 210 } },
                                lang: "python",
                                copyable: true,
                                value:
                                  "cursor = db.inventory.watch()\ndocument = await cursor.next()",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 210 } },
                                value:
                                  "/driver-examples/test_examples_motor.py",
                              },
                            ],
                            options: {
                              language: "python",
                              dedent: 12,
                              "start-after": "Start Changestream Example 1",
                              "end-before": "End Changestream Example 1",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 189 } },
                            value: "Motor",
                          },
                        ],
                        options: { tabid: "motor" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 268 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 271 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 271 } },
                                value:
                                  "The Node.js examples below assume that you have ",
                              },
                              {
                                type: "reference",
                                position: { start: { line: 271 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 271 } },
                                    value:
                                      "connected to a MongoDB replica set and have accessed a database",
                                  },
                                ],
                                refuri:
                                  "https://mongodb.github.io/node-mongodb-native/api-generated/mongoclient.html#connect",
                              },
                              {
                                type: "text",
                                position: { start: { line: 271 } },
                                value: "\nthat contains an ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 271 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 271 } },
                                    value: "inventory",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 271 } },
                                value: " collection.",
                              },
                            ],
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 275 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 275 } },
                                value:
                                  "The following example uses stream to process the change events.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 277 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 277 } },
                                lang: "javascript",
                                copyable: true,
                                value:
                                  "const collection = db.collection('inventory');\nconst changeStream = collection.watch();\nchangeStream\n  .on('change', next => {\n    // process next document\n  })\n  .once('error', () => {\n    // handle error\n  });",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 277 } },
                                value: "/driver-examples/node_changestreams.js",
                              },
                            ],
                            options: {
                              language: "javascript",
                              dedent: 6,
                              "start-after": "Start Changestream Example 1",
                              "end-before": "End Changestream Example 1",
                            },
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 283 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 283 } },
                                value:
                                  "Alternatively, you can also use iterator to process the change events:",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 285 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 285 } },
                                lang: "javascript",
                                copyable: true,
                                value:
                                  "const collection = db.collection('inventory');\nconst changeStream = collection.watch();\nconst next = await changeStream.next();",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 285 } },
                                value: "/driver-examples/node_changestreams.js",
                              },
                            ],
                            options: {
                              language: "javascript",
                              dedent: 6,
                              "start-after":
                                "Start Changestream Example 1 Alternative",
                              "end-before":
                                "End Changestream Example 1 Alternative",
                            },
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 291 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 291 } },
                                value: "ChangeStream extends ",
                              },
                              {
                                type: "reference",
                                position: { start: { line: 291 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 291 } },
                                    value: "EventEmitter",
                                  },
                                ],
                                refuri:
                                  "https://mongodb.github.io/node-mongodb-native/5.7/classes/TypedEventEmitter.html",
                              },
                              {
                                type: "text",
                                position: { start: { line: 291 } },
                                value: ".",
                              },
                            ],
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 189 } },
                            value: "Node.js",
                          },
                        ],
                        options: { tabid: "nodejs" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 294 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 297 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 297 } },
                                value:
                                  "The examples below assume that you have ",
                              },
                              {
                                type: "reference",
                                position: { start: { line: 297 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 297 } },
                                    value:
                                      "connected to a MongoDB replica  set and have accessed a database",
                                  },
                                ],
                                refuri:
                                  "https://www.mongodb.com/docs/php-library/current/reference/method/MongoDBClient__construct/",
                              },
                              {
                                type: "text",
                                position: { start: { line: 297 } },
                                value: "\nthat contains an ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 297 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 297 } },
                                    value: "inventory",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 297 } },
                                value: " collection.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 301 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 301 } },
                                lang: "php",
                                copyable: true,
                                value:
                                  "$changeStream = $db->inventory->watch();\n$changeStream->rewind();\n\n$firstChange = $changeStream->current();\n\n$changeStream->next();\n\n$secondChange = $changeStream->current();",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 301 } },
                                value:
                                  "/driver-examples/DocumentationExamplesTest.php",
                              },
                            ],
                            options: {
                              language: "php",
                              dedent: 8,
                              "start-after": "Start Changestream Example 1",
                              "end-before": "End Changestream Example 1",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 189 } },
                            value: "PHP",
                          },
                        ],
                        options: { tabid: "php" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 191 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 194 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 194 } },
                                value:
                                  "The Python examples below assume that you have ",
                              },
                              {
                                type: "reference",
                                position: { start: { line: 194 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 194 } },
                                    value:
                                      "connected to a MongoDB replica set and have accessed a database",
                                  },
                                ],
                                refuri:
                                  "https://www.mongodb.com/docs/drivers/pymongo/",
                              },
                              {
                                type: "text",
                                position: { start: { line: 194 } },
                                value: " that contains an ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 194 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 194 } },
                                    value: "inventory",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 194 } },
                                value: " collection.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 197 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 197 } },
                                lang: "python",
                                copyable: true,
                                value:
                                  "cursor = db.inventory.watch()\nnext(cursor)",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 197 } },
                                value: "/driver-examples/test_examples.py",
                              },
                            ],
                            options: {
                              language: "python",
                              dedent: 12,
                              "start-after": "Start Changestream Example 1",
                              "end-before": "End Changestream Example 1",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 189 } },
                            value: "Python",
                          },
                        ],
                        options: { tabid: "python" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 307 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 310 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 310 } },
                                value:
                                  "The examples below assume that you have ",
                              },
                              {
                                type: "reference",
                                position: { start: { line: 310 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 310 } },
                                    value:
                                      "connected to a MongoDB replica set and have accessed a database",
                                  },
                                ],
                                refuri:
                                  "https://www.mongodb.com/docs/ruby-driver/current/reference/create-client/",
                              },
                              {
                                type: "text",
                                position: { start: { line: 310 } },
                                value: "\nthat contains an ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 310 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 310 } },
                                    value: "inventory",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 310 } },
                                value: " collection.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 315 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 315 } },
                                lang: "ruby",
                                copyable: true,
                                value:
                                  "\ncursor = inventory.watch.to_enum\nnext_change = cursor.next\n",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 315 } },
                                value:
                                  "/driver-examples/change_stream_examples_spec.rb",
                              },
                            ],
                            options: {
                              language: "ruby",
                              dedent: 8,
                              "start-after": "Start Changestream Example 1",
                              "end-before": "End Changestream Example 1",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 189 } },
                            value: "Ruby",
                          },
                        ],
                        options: { tabid: "ruby" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 349 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 352 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 352 } },
                                value:
                                  "The Swift (Async) examples below assume that you have\n",
                              },
                              {
                                type: "reference",
                                position: { start: { line: 352 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 352 } },
                                    value:
                                      "connected to a MongoDB replica set and have accessed a\ndatabase",
                                  },
                                ],
                                refuri:
                                  "https://mongodb.github.io/mongo-swift-driver/docs/current/MongoSwift/Classes/MongoClient.html",
                              },
                              {
                                type: "text",
                                position: { start: { line: 352 } },
                                value: "\nthat contains an ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 352 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 352 } },
                                    value: "inventory",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 352 } },
                                value: " collection.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 358 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 358 } },
                                lang: "swift",
                                copyable: true,
                                value:
                                  'let inventory = db.collection("inventory")\n\n// Option 1: retrieve next document via next()\nlet next = inventory.watch().flatMap { cursor in\n    cursor.next()\n}\n\n// Option 2: register a callback to execute for each document\nlet result = inventory.watch().flatMap { cursor in\n    cursor.forEach { event in\n        // process event\n        print(event)\n    }\n}',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 358 } },
                                value: "/driver-examples/swiftAsync.swift",
                              },
                            ],
                            options: {
                              language: "swift",
                              dedent: 8,
                              "start-after": "Start Changestream Example 1",
                              "end-before": "End Changestream Example 1",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 189 } },
                            value: "Swift (Async)",
                          },
                        ],
                        options: { tabid: "swift-async" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 334 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 337 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 337 } },
                                value:
                                  "The Swift (Sync) examples below assume that you have\n",
                              },
                              {
                                type: "reference",
                                position: { start: { line: 337 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 337 } },
                                    value:
                                      "connected to a MongoDB replica set and have accessed a\ndatabase",
                                  },
                                ],
                                refuri:
                                  "https://mongodb.github.io/mongo-swift-driver/docs/current/MongoSwiftSync/Classes/MongoClient.html",
                              },
                              {
                                type: "text",
                                position: { start: { line: 337 } },
                                value: "\nthat contains an ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 337 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 337 } },
                                    value: "inventory",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 337 } },
                                value: " collection.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 343 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 343 } },
                                lang: "swift",
                                copyable: true,
                                value:
                                  'let inventory = db.collection("inventory")\nlet changeStream = try inventory.watch()\nlet next = changeStream.next()',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 343 } },
                                value: "/driver-examples/swiftSync.swift",
                              },
                            ],
                            options: {
                              language: "swift",
                              dedent: 8,
                              "start-after": "Start Changestream Example 1",
                              "end-before": "End Changestream Example 1",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 189 } },
                            value: "Swift (Sync)",
                          },
                        ],
                        options: { tabid: "swift-sync" },
                      },
                    ],
                    domain: "",
                    name: "tabs",
                    argument: [],
                    options: { tabset: "drivers" },
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 364 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 364 } },
                        value: "To retrieve the ",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 364 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 364 } },
                            value: "data change event",
                          },
                        ],
                        domain: "std",
                        name: "label",
                        target: "change-stream-output",
                        flag: "",
                        fileid: [
                          "reference/change-events",
                          "std-label-change-stream-output",
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 364 } },
                        value:
                          " from\nthe cursor, iterate the change stream cursor. For information on the\nchange stream event, see ",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 364 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 364 } },
                            value: "Change Events",
                          },
                        ],
                        domain: "std",
                        name: "label",
                        target: "change-stream-output",
                        flag: "",
                        fileid: [
                          "reference/change-events",
                          "std-label-change-stream-output",
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 364 } },
                        value: ".",
                      },
                    ],
                  },
                  {
                    type: "directive",
                    position: { start: { line: 368 } },
                    children: [
                      {
                        type: "root",
                        position: { start: { line: 0 } },
                        children: [
                          {
                            type: "directive",
                            position: { start: { line: 0 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 0 } },
                                    value: "The ",
                                  },
                                  {
                                    type: "ref_role",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: "change stream cursor",
                                      },
                                    ],
                                    domain: "std",
                                    name: "label",
                                    target: "changeStreams",
                                    flag: "",
                                    fileid: [
                                      "changeStreams",
                                      "std-label-changeStreams",
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 0 } },
                                    value:
                                      " remains open until\none of the following occurs:",
                                  },
                                ],
                              },
                              {
                                type: "list",
                                position: { start: { line: 3 } },
                                children: [
                                  {
                                    type: "listItem",
                                    position: { start: { line: 3 } },
                                    children: [
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 3 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 3 } },
                                            value:
                                              "The cursor is explicitly closed.",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                  {
                                    type: "listItem",
                                    position: { start: { line: 3 } },
                                    children: [
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 5 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 5 } },
                                            value: "An ",
                                          },
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 5 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 5 },
                                                },
                                                value: "invalidate event",
                                              },
                                            ],
                                            domain: "std",
                                            name: "label",
                                            target: "change-event-invalidate",
                                            flag: "",
                                            fileid: [
                                              "reference/change-events/invalidate",
                                              "std-label-change-event-invalidate",
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 5 } },
                                            value:
                                              " occurs; for\nexample, a collection drop or rename.",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                  {
                                    type: "listItem",
                                    position: { start: { line: 3 } },
                                    children: [
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 8 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 8 } },
                                            value:
                                              "The connection to the MongoDB deployment closes or times out.\nSee ",
                                          },
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 8 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 8 },
                                                },
                                                value: "Cursor Behaviors",
                                              },
                                            ],
                                            domain: "std",
                                            name: "label",
                                            target: "cursor-behaviors",
                                            flag: "",
                                            fileid: [
                                              "tutorial/iterate-a-cursor",
                                              "std-label-cursor-behaviors",
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 8 } },
                                            value: " for more information.",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                  {
                                    type: "listItem",
                                    position: { start: { line: 3 } },
                                    children: [
                                      {
                                        type: "directive",
                                        position: { start: { line: 11 } },
                                        children: [
                                          {
                                            type: "root",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "directive",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                children: [
                                                  {
                                                    type: "paragraph",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "text",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        value:
                                                          "If the deployment is a sharded cluster, a shard removal may cause an\nopen change stream cursor to close. The closed change stream cursor\nmay not be fully resumable.",
                                                      },
                                                    ],
                                                  },
                                                ],
                                                domain: "",
                                                name: "extract",
                                                argument: [],
                                              },
                                            ],
                                            fileid:
                                              "includes/extracts-changestream.yaml",
                                          },
                                        ],
                                        domain: "",
                                        name: "include",
                                        argument: [
                                          {
                                            type: "text",
                                            position: { start: { line: 11 } },
                                            value:
                                              "/includes/extracts/changestream-remove-shard.rst",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                ],
                                enumtype: "unordered",
                              },
                            ],
                            domain: "",
                            name: "extract",
                            argument: [],
                          },
                        ],
                        fileid: "includes/extracts-changestream.yaml",
                      },
                    ],
                    domain: "",
                    name: "include",
                    argument: [
                      {
                        type: "text",
                        position: { start: { line: 368 } },
                        value:
                          "/includes/extracts/changestream-cursor-open.rst",
                      },
                    ],
                  },
                  {
                    type: "directive",
                    position: { start: { line: 370 } },
                    children: [
                      {
                        type: "paragraph",
                        position: { start: { line: 372 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 372 } },
                            value:
                              "The lifecycle of an unclosed cursor is language-dependent.",
                          },
                        ],
                      },
                    ],
                    domain: "",
                    name: "note",
                    argument: [],
                  },
                  {
                    type: "footnote",
                    position: { start: { line: 374 } },
                    children: [
                      {
                        type: "paragraph",
                        position: { start: { line: 376 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 376 } },
                            value: "You can specify a ",
                          },
                          {
                            type: "literal",
                            position: { start: { line: 376 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 376 } },
                                value: "startAtOperationTime",
                              },
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 376 } },
                            value:
                              " to open the cursor at a particular\npoint in time. If the specified starting point is in the past, it must be in\nthe time range of the oplog.",
                          },
                        ],
                      },
                    ],
                    id: "start-time",
                    name: "start-time",
                  },
                  {
                    type: "target",
                    position: { start: { line: 380 } },
                    children: [
                      {
                        type: "target_identifier",
                        position: { start: { line: 380 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 383 } },
                            value: "Modify Change Stream Output",
                          },
                        ],
                        ids: ["change-stream-modify-output"],
                      },
                    ],
                    domain: "std",
                    name: "label",
                    html_id: "std-label-change-stream-modify-output",
                  },
                ],
              },
              {
                type: "section",
                position: { start: { line: 383 } },
                children: [
                  {
                    type: "heading",
                    position: { start: { line: 383 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 383 } },
                        value: "Modify Change Stream Output",
                      },
                    ],
                    id: "modify-change-stream-output",
                  },
                  { type: "transition", position: { start: { line: 385 } } },
                  {
                    type: "paragraph",
                    position: { start: { line: 387 } },
                    children: [
                      {
                        type: "substitution_reference",
                        position: { start: { line: 387 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 180 } },
                            value: "",
                          },
                        ],
                        name: "arrow",
                      },
                      {
                        type: "text",
                        position: { start: { line: 387 } },
                        value: " Use the ",
                      },
                      {
                        type: "strong",
                        position: { start: { line: 387 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 387 } },
                            value: "Select your language",
                          },
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 387 } },
                        value:
                          " drop-down menu in the\nupper-right to set the language of the examples on this page.",
                      },
                    ],
                  },
                  { type: "transition", position: { start: { line: 390 } } },
                  {
                    type: "directive",
                    position: { start: { line: 392 } },
                    children: [
                      {
                        type: "directive",
                        position: { start: { line: 484 } },
                        children: [
                          {
                            type: "directive",
                            position: { start: { line: 487 } },
                            children: [
                              {
                                type: "root",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: "You can control ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: "change stream output",
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "change-stream-output",
                                        flag: "",
                                        fileid: [
                                          "reference/change-events",
                                          "std-label-change-stream-output",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value:
                                          " by\nproviding an array of one or more of the following pipeline stages when\nconfiguring the change stream:",
                                      },
                                    ],
                                  },
                                  {
                                    type: "directive",
                                    position: { start: { line: 4 } },
                                    children: [
                                      {
                                        type: "root",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "directive",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "list",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                children: [
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 0,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 0,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 0,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$addFields",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$addFields",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/addFields",
                                                              "mongodb-pipeline-pipe.-addFields",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 1 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 1,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 1,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 1,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$match",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$match",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/match",
                                                              "mongodb-pipeline-pipe.-match",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 2 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 2,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 2,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 2,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$project",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$project",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/project",
                                                              "mongodb-pipeline-pipe.-project",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 3 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 3,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 3,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 3,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceRoot",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceRoot",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceRoot",
                                                              "mongodb-pipeline-pipe.-replaceRoot",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 4 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 4,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 4,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 4,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceWith",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceWith",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceWith",
                                                              "mongodb-pipeline-pipe.-replaceWith",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 5 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 5,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 5,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 5,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$redact",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$redact",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/redact",
                                                              "mongodb-pipeline-pipe.-redact",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 6 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 6,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 6,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 6,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$set",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target: "pipe.$set",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/set",
                                                              "mongodb-pipeline-pipe.-set",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 7 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 7,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 7,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 7,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$unset",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$unset",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/unset",
                                                              "mongodb-pipeline-pipe.-unset",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                ],
                                                enumtype: "unordered",
                                              },
                                            ],
                                            domain: "",
                                            name: "extract",
                                            argument: [],
                                          },
                                        ],
                                        fileid:
                                          "includes/extracts-changestream.yaml",
                                      },
                                    ],
                                    domain: "",
                                    name: "include",
                                    argument: [
                                      {
                                        type: "text",
                                        position: { start: { line: 4 } },
                                        value:
                                          "/includes/extracts/changestream-available-pipeline-stages.rst",
                                      },
                                    ],
                                  },
                                ],
                                fileid:
                                  "includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                            domain: "",
                            name: "include",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 487 } },
                                value:
                                  "/includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 489 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 489 } },
                                lang: "c",
                                copyable: true,
                                value:
                                  'pipeline = BCON_NEW ("pipeline",\n                     "[",\n                     "{",\n                     "$match",\n                     "{",\n                     "fullDocument.username",\n                     BCON_UTF8 ("alice"),\n                     "}",\n                     "}",\n                     "{",\n                     "$addFields",\n                     "{",\n                     "newField",\n                     BCON_UTF8 ("this is an added field!"),\n                     "}",\n                     "}",\n                     "]");\n\nstream = mongoc_collection_watch (collection, pipeline, &opts);\nmongoc_change_stream_next (stream, &change);\nif (mongoc_change_stream_error_document (stream, &error, NULL)) {\n   MONGOC_ERROR ("%s\\n", error.message);\n}\n\nmongoc_change_stream_destroy (stream);',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 489 } },
                                value:
                                  "/driver-examples/test-mongoc-sample-commands.c",
                              },
                            ],
                            options: {
                              language: "c",
                              dedent: 3,
                              "start-after": "Start Changestream Example 4",
                              "end-before": "End Changestream Example 4",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 392 } },
                            value: "C",
                          },
                        ],
                        options: { tabid: "c" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 473 } },
                        children: [
                          {
                            type: "directive",
                            position: { start: { line: 476 } },
                            children: [
                              {
                                type: "root",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: "You can control ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: "change stream output",
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "change-stream-output",
                                        flag: "",
                                        fileid: [
                                          "reference/change-events",
                                          "std-label-change-stream-output",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value:
                                          " by\nproviding an array of one or more of the following pipeline stages when\nconfiguring the change stream:",
                                      },
                                    ],
                                  },
                                  {
                                    type: "directive",
                                    position: { start: { line: 4 } },
                                    children: [
                                      {
                                        type: "root",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "directive",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "list",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                children: [
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 0,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 0,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 0,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$addFields",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$addFields",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/addFields",
                                                              "mongodb-pipeline-pipe.-addFields",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 1 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 1,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 1,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 1,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$match",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$match",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/match",
                                                              "mongodb-pipeline-pipe.-match",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 2 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 2,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 2,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 2,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$project",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$project",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/project",
                                                              "mongodb-pipeline-pipe.-project",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 3 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 3,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 3,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 3,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceRoot",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceRoot",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceRoot",
                                                              "mongodb-pipeline-pipe.-replaceRoot",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 4 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 4,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 4,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 4,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceWith",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceWith",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceWith",
                                                              "mongodb-pipeline-pipe.-replaceWith",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 5 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 5,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 5,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 5,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$redact",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$redact",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/redact",
                                                              "mongodb-pipeline-pipe.-redact",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 6 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 6,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 6,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 6,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$set",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target: "pipe.$set",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/set",
                                                              "mongodb-pipeline-pipe.-set",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 7 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 7,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 7,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 7,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$unset",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$unset",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/unset",
                                                              "mongodb-pipeline-pipe.-unset",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                ],
                                                enumtype: "unordered",
                                              },
                                            ],
                                            domain: "",
                                            name: "extract",
                                            argument: [],
                                          },
                                        ],
                                        fileid:
                                          "includes/extracts-changestream.yaml",
                                      },
                                    ],
                                    domain: "",
                                    name: "include",
                                    argument: [
                                      {
                                        type: "text",
                                        position: { start: { line: 4 } },
                                        value:
                                          "/includes/extracts/changestream-available-pipeline-stages.rst",
                                      },
                                    ],
                                  },
                                ],
                                fileid:
                                  "includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                            domain: "",
                            name: "include",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 476 } },
                                value:
                                  "/includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 478 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 478 } },
                                lang: "csharp",
                                copyable: true,
                                value:
                                  'var pipeline = new EmptyPipelineDefinition<ChangeStreamDocument<BsonDocument>>()\n    .Match(change =>\n        change.FullDocument["username"] == "alice" ||\n        change.OperationType == ChangeStreamOperationType.Delete)\n    .AppendStage<ChangeStreamDocument<BsonDocument>, ChangeStreamDocument<BsonDocument>, BsonDocument>(\n        "{ $addFields : { newField : \'this is an added field!\' } }");\n\nvar collection = database.GetCollection<BsonDocument>("inventory");\nusing (var cursor = collection.Watch(pipeline))\n{\n    while (cursor.MoveNext() && cursor.Current.Count() == 0) { } // keep calling MoveNext until we\'ve read the first batch\n    var next = cursor.Current.First();\n}',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 478 } },
                                value:
                                  "/driver-examples/ChangeStreamExamples.cs",
                              },
                            ],
                            options: {
                              language: "csharp",
                              dedent: 16,
                              "start-after": "Start Changestream Example 4",
                              "end-before": "End Changestream Example 4",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 392 } },
                            value: "C#",
                          },
                        ],
                        options: { tabid: "csharp" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 533 } },
                        children: [
                          {
                            type: "directive",
                            position: { start: { line: 536 } },
                            children: [
                              {
                                type: "root",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: "You can control ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: "change stream output",
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "change-stream-output",
                                        flag: "",
                                        fileid: [
                                          "reference/change-events",
                                          "std-label-change-stream-output",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value:
                                          " by\nproviding an array of one or more of the following pipeline stages when\nconfiguring the change stream:",
                                      },
                                    ],
                                  },
                                  {
                                    type: "directive",
                                    position: { start: { line: 4 } },
                                    children: [
                                      {
                                        type: "root",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "directive",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "list",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                children: [
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 0,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 0,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 0,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$addFields",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$addFields",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/addFields",
                                                              "mongodb-pipeline-pipe.-addFields",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 1 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 1,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 1,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 1,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$match",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$match",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/match",
                                                              "mongodb-pipeline-pipe.-match",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 2 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 2,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 2,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 2,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$project",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$project",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/project",
                                                              "mongodb-pipeline-pipe.-project",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 3 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 3,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 3,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 3,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceRoot",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceRoot",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceRoot",
                                                              "mongodb-pipeline-pipe.-replaceRoot",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 4 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 4,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 4,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 4,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceWith",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceWith",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceWith",
                                                              "mongodb-pipeline-pipe.-replaceWith",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 5 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 5,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 5,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 5,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$redact",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$redact",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/redact",
                                                              "mongodb-pipeline-pipe.-redact",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 6 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 6,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 6,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 6,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$set",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target: "pipe.$set",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/set",
                                                              "mongodb-pipeline-pipe.-set",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 7 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 7,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 7,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 7,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$unset",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$unset",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/unset",
                                                              "mongodb-pipeline-pipe.-unset",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                ],
                                                enumtype: "unordered",
                                              },
                                            ],
                                            domain: "",
                                            name: "extract",
                                            argument: [],
                                          },
                                        ],
                                        fileid:
                                          "includes/extracts-changestream.yaml",
                                      },
                                    ],
                                    domain: "",
                                    name: "include",
                                    argument: [
                                      {
                                        type: "text",
                                        position: { start: { line: 4 } },
                                        value:
                                          "/includes/extracts/changestream-available-pipeline-stages.rst",
                                      },
                                    ],
                                  },
                                ],
                                fileid:
                                  "includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                            domain: "",
                            name: "include",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 536 } },
                                value:
                                  "/includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 538 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 538 } },
                                lang: "go",
                                copyable: true,
                                value:
                                  'pipeline := mongo.Pipeline{bson.D{{"$match", bson.D{{"$or",\n\tbson.A{\n\t\tbson.D{{"fullDocument.username", "alice"}},\n\t\tbson.D{{"operationType", "delete"}}}}},\n}}}\ncs, err := coll.Watch(ctx, pipeline)\nassert.NoError(t, err)\ndefer cs.Close(ctx)\n\nok := cs.Next(ctx)\nnext := cs.Current\n',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 538 } },
                                value: "/driver-examples/go_examples.go",
                              },
                            ],
                            options: {
                              language: "go",
                              dedent: 2,
                              "start-after": "Start Changestream Example 4",
                              "end-before": "End Changestream Example 4",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 392 } },
                            value: "Go",
                          },
                        ],
                        options: { tabid: "go" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 417 } },
                        children: [
                          {
                            type: "directive",
                            position: { start: { line: 420 } },
                            children: [
                              {
                                type: "root",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: "You can control ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: "change stream output",
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "change-stream-output",
                                        flag: "",
                                        fileid: [
                                          "reference/change-events",
                                          "std-label-change-stream-output",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value:
                                          " by\nproviding an array of one or more of the following pipeline stages when\nconfiguring the change stream:",
                                      },
                                    ],
                                  },
                                  {
                                    type: "directive",
                                    position: { start: { line: 4 } },
                                    children: [
                                      {
                                        type: "root",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "directive",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "list",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                children: [
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 0,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 0,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 0,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$addFields",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$addFields",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/addFields",
                                                              "mongodb-pipeline-pipe.-addFields",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 1 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 1,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 1,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 1,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$match",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$match",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/match",
                                                              "mongodb-pipeline-pipe.-match",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 2 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 2,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 2,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 2,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$project",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$project",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/project",
                                                              "mongodb-pipeline-pipe.-project",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 3 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 3,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 3,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 3,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceRoot",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceRoot",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceRoot",
                                                              "mongodb-pipeline-pipe.-replaceRoot",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 4 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 4,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 4,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 4,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceWith",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceWith",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceWith",
                                                              "mongodb-pipeline-pipe.-replaceWith",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 5 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 5,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 5,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 5,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$redact",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$redact",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/redact",
                                                              "mongodb-pipeline-pipe.-redact",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 6 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 6,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 6,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 6,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$set",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target: "pipe.$set",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/set",
                                                              "mongodb-pipeline-pipe.-set",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 7 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 7,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 7,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 7,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$unset",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$unset",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/unset",
                                                              "mongodb-pipeline-pipe.-unset",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                ],
                                                enumtype: "unordered",
                                              },
                                            ],
                                            domain: "",
                                            name: "extract",
                                            argument: [],
                                          },
                                        ],
                                        fileid:
                                          "includes/extracts-changestream.yaml",
                                      },
                                    ],
                                    domain: "",
                                    name: "include",
                                    argument: [
                                      {
                                        type: "text",
                                        position: { start: { line: 4 } },
                                        value:
                                          "/includes/extracts/changestream-available-pipeline-stages.rst",
                                      },
                                    ],
                                  },
                                ],
                                fileid:
                                  "includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                            domain: "",
                            name: "include",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 420 } },
                                value:
                                  "/includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                          },
                          {
                            type: "code",
                            position: { start: { line: 422 } },
                            lang: "java",
                            copyable: true,
                            emphasize_lines: [],
                            value:
                              'MongoClient mongoClient = MongoClients.create("mongodb://<username>:<password>@<host>:<port>");\n\n// Select the MongoDB database and collection to open the change stream against\n\nMongoDatabase db = mongoClient.getDatabase("myTargetDatabase");\n\nMongoCollection<Document> collection = db.getCollection("myTargetCollection");\n\n// Create $match pipeline stage.\nList<Bson> pipeline = singletonList(Aggregates.match(Filters.or(\n   Document.parse("{\'fullDocument.username\': \'alice\'}"),\n   Filters.in("operationType", asList("delete")))));\n\n// Create the change stream cursor, passing the pipeline to the\n// collection.watch() method\n\nMongoCursor<Document> cursor = collection.watch(pipeline).iterator();',
                            linenos: false,
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 442 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 442 } },
                                value: "The ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 442 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 442 } },
                                    value: "pipeline",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 442 } },
                                value: " list includes a single ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 442 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 442 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 442 } },
                                        value: "$match",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "pipeline",
                                target: "pipe.$match",
                                flag: "",
                                fileid: [
                                  "reference/operator/aggregation/match",
                                  "mongodb-pipeline-pipe.-match",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 442 } },
                                value:
                                  " stage that\nfilters for any operations that meet one or both of the following criteria:",
                              },
                            ],
                          },
                          {
                            type: "list",
                            position: { start: { line: 445 } },
                            children: [
                              {
                                type: "listItem",
                                position: { start: { line: 445 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 445 } },
                                    children: [
                                      {
                                        type: "literal",
                                        position: { start: { line: 445 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 445 } },
                                            value: "username",
                                          },
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 445 } },
                                        value: " value is ",
                                      },
                                      {
                                        type: "literal",
                                        position: { start: { line: 445 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 445 } },
                                            value: "alice",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                ],
                              },
                              {
                                type: "listItem",
                                position: { start: { line: 445 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 446 } },
                                    children: [
                                      {
                                        type: "literal",
                                        position: { start: { line: 446 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 446 } },
                                            value: "operationType",
                                          },
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 446 } },
                                        value: " value is ",
                                      },
                                      {
                                        type: "literal",
                                        position: { start: { line: 446 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 446 } },
                                            value: "delete",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                ],
                              },
                            ],
                            enumtype: "unordered",
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 448 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 448 } },
                                value: "Passing the ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 448 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 448 } },
                                    value: "pipeline",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 448 } },
                                value: " to the ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 448 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 448 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 448 } },
                                        value: "watch()",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "method",
                                target: "db.collection.watch",
                                flag: "~",
                                fileid: [
                                  "reference/method/db.collection.watch",
                                  "mongodb-method-db.collection.watch",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 448 } },
                                value:
                                  " method directs the\nchange stream to return notifications after passing them through the\nspecified ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 448 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 448 } },
                                    value: "pipeline",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 448 } },
                                value: ".",
                              },
                            ],
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 392 } },
                            value: "Java (Sync)",
                          },
                        ],
                        options: { tabid: "java-sync" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 452 } },
                        children: [
                          {
                            type: "directive",
                            position: { start: { line: 455 } },
                            children: [
                              {
                                type: "root",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: "You can control ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: "change stream output",
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "change-stream-output",
                                        flag: "",
                                        fileid: [
                                          "reference/change-events",
                                          "std-label-change-stream-output",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value:
                                          " by\nproviding an array of one or more of the following pipeline stages when\nconfiguring the change stream:",
                                      },
                                    ],
                                  },
                                  {
                                    type: "directive",
                                    position: { start: { line: 4 } },
                                    children: [
                                      {
                                        type: "root",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "directive",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "list",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                children: [
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 0,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 0,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 0,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$addFields",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$addFields",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/addFields",
                                                              "mongodb-pipeline-pipe.-addFields",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 1 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 1,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 1,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 1,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$match",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$match",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/match",
                                                              "mongodb-pipeline-pipe.-match",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 2 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 2,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 2,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 2,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$project",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$project",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/project",
                                                              "mongodb-pipeline-pipe.-project",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 3 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 3,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 3,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 3,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceRoot",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceRoot",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceRoot",
                                                              "mongodb-pipeline-pipe.-replaceRoot",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 4 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 4,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 4,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 4,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceWith",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceWith",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceWith",
                                                              "mongodb-pipeline-pipe.-replaceWith",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 5 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 5,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 5,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 5,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$redact",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$redact",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/redact",
                                                              "mongodb-pipeline-pipe.-redact",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 6 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 6,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 6,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 6,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$set",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target: "pipe.$set",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/set",
                                                              "mongodb-pipeline-pipe.-set",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 7 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 7,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 7,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 7,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$unset",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$unset",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/unset",
                                                              "mongodb-pipeline-pipe.-unset",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                ],
                                                enumtype: "unordered",
                                              },
                                            ],
                                            domain: "",
                                            name: "extract",
                                            argument: [],
                                          },
                                        ],
                                        fileid:
                                          "includes/extracts-changestream.yaml",
                                      },
                                    ],
                                    domain: "",
                                    name: "include",
                                    argument: [
                                      {
                                        type: "text",
                                        position: { start: { line: 4 } },
                                        value:
                                          "/includes/extracts/changestream-available-pipeline-stages.rst",
                                      },
                                    ],
                                  },
                                ],
                                fileid:
                                  "includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                            domain: "",
                            name: "include",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 455 } },
                                value:
                                  "/includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 457 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 457 } },
                                lang: "kotlin",
                                copyable: true,
                                value:
                                  'val pipeline = listOf(\n    Aggregates.match(\n        or(\n            eq("fullDocument.username", "alice"),\n            `in`("operationType", listOf("delete"))\n        )\n))\n\nval job = launch {\n    val changeStream = collection.watch(pipeline)\n    changeStream.collect {\n        println("Received a change event: $it")\n    }\n}',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 457 } },
                                value: "/driver-examples/kotlin_examples.kt",
                              },
                            ],
                            options: {
                              language: "kotlin",
                              dedent: true,
                              "start-after": "Start Changestream Example 4",
                              "end-before": "End Changestream Example 4",
                            },
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 463 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 463 } },
                                value: "The ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 463 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 463 } },
                                    value: "pipeline",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 463 } },
                                value: " list includes a single ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 463 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 463 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 463 } },
                                        value: "$match",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "pipeline",
                                target: "pipe.$match",
                                flag: "",
                                fileid: [
                                  "reference/operator/aggregation/match",
                                  "mongodb-pipeline-pipe.-match",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 463 } },
                                value:
                                  " stage that\nfilters for any operations that meet one or both of the following criteria:",
                              },
                            ],
                          },
                          {
                            type: "list",
                            position: { start: { line: 466 } },
                            children: [
                              {
                                type: "listItem",
                                position: { start: { line: 466 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 466 } },
                                    children: [
                                      {
                                        type: "literal",
                                        position: { start: { line: 466 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 466 } },
                                            value: "username",
                                          },
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 466 } },
                                        value: " value is ",
                                      },
                                      {
                                        type: "literal",
                                        position: { start: { line: 466 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 466 } },
                                            value: "alice",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                ],
                              },
                              {
                                type: "listItem",
                                position: { start: { line: 466 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 467 } },
                                    children: [
                                      {
                                        type: "literal",
                                        position: { start: { line: 467 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 467 } },
                                            value: "operationType",
                                          },
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 467 } },
                                        value: " value is ",
                                      },
                                      {
                                        type: "literal",
                                        position: { start: { line: 467 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 467 } },
                                            value: "delete",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                ],
                              },
                            ],
                            enumtype: "unordered",
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 469 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 469 } },
                                value: "Passing the ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 469 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 469 } },
                                    value: "pipeline",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 469 } },
                                value: " to the ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 469 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 469 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 469 } },
                                        value: "watch()",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "method",
                                target: "db.collection.watch",
                                flag: "~",
                                fileid: [
                                  "reference/method/db.collection.watch",
                                  "mongodb-method-db.collection.watch",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 469 } },
                                value:
                                  " method directs the\nchange stream to return notifications after passing them through the\nspecified ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 469 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 469 } },
                                    value: "pipeline",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 469 } },
                                value: ".",
                              },
                            ],
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 392 } },
                            value: "Kotlin (Coroutine)",
                          },
                        ],
                        options: { tabid: "kotlin-coroutine" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 406 } },
                        children: [
                          {
                            type: "directive",
                            position: { start: { line: 409 } },
                            children: [
                              {
                                type: "root",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: "You can control ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: "change stream output",
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "change-stream-output",
                                        flag: "",
                                        fileid: [
                                          "reference/change-events",
                                          "std-label-change-stream-output",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value:
                                          " by\nproviding an array of one or more of the following pipeline stages when\nconfiguring the change stream:",
                                      },
                                    ],
                                  },
                                  {
                                    type: "directive",
                                    position: { start: { line: 4 } },
                                    children: [
                                      {
                                        type: "root",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "directive",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "list",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                children: [
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 0,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 0,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 0,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$addFields",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$addFields",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/addFields",
                                                              "mongodb-pipeline-pipe.-addFields",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 1 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 1,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 1,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 1,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$match",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$match",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/match",
                                                              "mongodb-pipeline-pipe.-match",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 2 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 2,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 2,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 2,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$project",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$project",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/project",
                                                              "mongodb-pipeline-pipe.-project",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 3 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 3,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 3,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 3,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceRoot",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceRoot",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceRoot",
                                                              "mongodb-pipeline-pipe.-replaceRoot",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 4 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 4,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 4,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 4,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceWith",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceWith",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceWith",
                                                              "mongodb-pipeline-pipe.-replaceWith",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 5 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 5,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 5,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 5,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$redact",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$redact",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/redact",
                                                              "mongodb-pipeline-pipe.-redact",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 6 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 6,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 6,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 6,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$set",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target: "pipe.$set",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/set",
                                                              "mongodb-pipeline-pipe.-set",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 7 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 7,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 7,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 7,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$unset",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$unset",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/unset",
                                                              "mongodb-pipeline-pipe.-unset",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                ],
                                                enumtype: "unordered",
                                              },
                                            ],
                                            domain: "",
                                            name: "extract",
                                            argument: [],
                                          },
                                        ],
                                        fileid:
                                          "includes/extracts-changestream.yaml",
                                      },
                                    ],
                                    domain: "",
                                    name: "include",
                                    argument: [
                                      {
                                        type: "text",
                                        position: { start: { line: 4 } },
                                        value:
                                          "/includes/extracts/changestream-available-pipeline-stages.rst",
                                      },
                                    ],
                                  },
                                ],
                                fileid:
                                  "includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                            domain: "",
                            name: "include",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 409 } },
                                value:
                                  "/includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 411 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 411 } },
                                lang: "python",
                                copyable: true,
                                value:
                                  'pipeline = [\n    {"$match": {"fullDocument.username": "alice"}},\n    {"$addFields": {"newField": "this is an added field!"}},\n]\ncursor = db.inventory.watch(pipeline=pipeline)\ndocument = await cursor.next()',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 411 } },
                                value:
                                  "/driver-examples/test_examples_motor.py",
                              },
                            ],
                            options: {
                              language: "python",
                              dedent: 12,
                              "start-after": "Start Changestream Example 4",
                              "end-before": "End Changestream Example 4",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 392 } },
                            value: "Motor",
                          },
                        ],
                        options: { tabid: "motor" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 495 } },
                        children: [
                          {
                            type: "directive",
                            position: { start: { line: 498 } },
                            children: [
                              {
                                type: "root",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: "You can control ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: "change stream output",
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "change-stream-output",
                                        flag: "",
                                        fileid: [
                                          "reference/change-events",
                                          "std-label-change-stream-output",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value:
                                          " by\nproviding an array of one or more of the following pipeline stages when\nconfiguring the change stream:",
                                      },
                                    ],
                                  },
                                  {
                                    type: "directive",
                                    position: { start: { line: 4 } },
                                    children: [
                                      {
                                        type: "root",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "directive",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "list",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                children: [
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 0,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 0,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 0,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$addFields",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$addFields",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/addFields",
                                                              "mongodb-pipeline-pipe.-addFields",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 1 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 1,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 1,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 1,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$match",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$match",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/match",
                                                              "mongodb-pipeline-pipe.-match",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 2 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 2,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 2,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 2,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$project",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$project",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/project",
                                                              "mongodb-pipeline-pipe.-project",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 3 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 3,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 3,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 3,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceRoot",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceRoot",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceRoot",
                                                              "mongodb-pipeline-pipe.-replaceRoot",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 4 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 4,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 4,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 4,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceWith",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceWith",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceWith",
                                                              "mongodb-pipeline-pipe.-replaceWith",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 5 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 5,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 5,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 5,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$redact",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$redact",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/redact",
                                                              "mongodb-pipeline-pipe.-redact",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 6 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 6,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 6,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 6,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$set",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target: "pipe.$set",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/set",
                                                              "mongodb-pipeline-pipe.-set",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 7 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 7,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 7,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 7,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$unset",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$unset",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/unset",
                                                              "mongodb-pipeline-pipe.-unset",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                ],
                                                enumtype: "unordered",
                                              },
                                            ],
                                            domain: "",
                                            name: "extract",
                                            argument: [],
                                          },
                                        ],
                                        fileid:
                                          "includes/extracts-changestream.yaml",
                                      },
                                    ],
                                    domain: "",
                                    name: "include",
                                    argument: [
                                      {
                                        type: "text",
                                        position: { start: { line: 4 } },
                                        value:
                                          "/includes/extracts/changestream-available-pipeline-stages.rst",
                                      },
                                    ],
                                  },
                                ],
                                fileid:
                                  "includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                            domain: "",
                            name: "include",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 498 } },
                                value:
                                  "/includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 500 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 500 } },
                                value:
                                  "The following example uses stream to process the change events.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 502 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 502 } },
                                lang: "javascript",
                                copyable: true,
                                value:
                                  "const pipeline = [\n  { $match: { 'fullDocument.username': 'alice' } },\n  { $addFields: { newField: 'this is an added field!' } }\n];\n\nconst collection = db.collection('inventory');\nconst changeStream = collection.watch(pipeline);\nchangeStream\n  .on('change', next => {\n    // process next document\n  })\n  .once('error', error => {\n    // handle error\n  });",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 502 } },
                                value: "/driver-examples/node_changestreams.js",
                              },
                            ],
                            options: {
                              language: "javascript",
                              dedent: 6,
                              "start-after": "Start Changestream Example 4",
                              "end-before": "End Changestream Example 4",
                            },
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 508 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 508 } },
                                value:
                                  "Alternatively, you can also use iterator to process the change events:",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 510 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 510 } },
                                lang: "javascript",
                                copyable: true,
                                value:
                                  "const changeStreamIterator = collection.watch(pipeline);\nconst next = await changeStreamIterator.next();",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 510 } },
                                value: "/driver-examples/node_changestreams.js",
                              },
                            ],
                            options: {
                              language: "javascript",
                              dedent: 6,
                              "start-after":
                                "Start Changestream Example 4 Alternative",
                              "end-before":
                                "End Changestream Example 4 Alternative",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 392 } },
                            value: "Node.js",
                          },
                        ],
                        options: { tabid: "nodejs" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 517 } },
                        children: [
                          {
                            type: "directive",
                            position: { start: { line: 520 } },
                            children: [
                              {
                                type: "root",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: "You can control ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: "change stream output",
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "change-stream-output",
                                        flag: "",
                                        fileid: [
                                          "reference/change-events",
                                          "std-label-change-stream-output",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value:
                                          " by\nproviding an array of one or more of the following pipeline stages when\nconfiguring the change stream:",
                                      },
                                    ],
                                  },
                                  {
                                    type: "directive",
                                    position: { start: { line: 4 } },
                                    children: [
                                      {
                                        type: "root",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "directive",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "list",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                children: [
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 0,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 0,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 0,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$addFields",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$addFields",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/addFields",
                                                              "mongodb-pipeline-pipe.-addFields",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 1 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 1,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 1,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 1,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$match",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$match",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/match",
                                                              "mongodb-pipeline-pipe.-match",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 2 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 2,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 2,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 2,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$project",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$project",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/project",
                                                              "mongodb-pipeline-pipe.-project",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 3 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 3,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 3,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 3,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceRoot",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceRoot",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceRoot",
                                                              "mongodb-pipeline-pipe.-replaceRoot",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 4 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 4,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 4,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 4,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceWith",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceWith",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceWith",
                                                              "mongodb-pipeline-pipe.-replaceWith",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 5 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 5,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 5,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 5,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$redact",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$redact",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/redact",
                                                              "mongodb-pipeline-pipe.-redact",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 6 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 6,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 6,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 6,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$set",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target: "pipe.$set",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/set",
                                                              "mongodb-pipeline-pipe.-set",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 7 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 7,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 7,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 7,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$unset",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$unset",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/unset",
                                                              "mongodb-pipeline-pipe.-unset",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                ],
                                                enumtype: "unordered",
                                              },
                                            ],
                                            domain: "",
                                            name: "extract",
                                            argument: [],
                                          },
                                        ],
                                        fileid:
                                          "includes/extracts-changestream.yaml",
                                      },
                                    ],
                                    domain: "",
                                    name: "include",
                                    argument: [
                                      {
                                        type: "text",
                                        position: { start: { line: 4 } },
                                        value:
                                          "/includes/extracts/changestream-available-pipeline-stages.rst",
                                      },
                                    ],
                                  },
                                ],
                                fileid:
                                  "includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                            domain: "",
                            name: "include",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 520 } },
                                value:
                                  "/includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 522 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 522 } },
                                lang: "php",
                                copyable: true,
                                value:
                                  "$pipeline = [\n    ['$match' => ['fullDocument.username' => 'alice']],\n    ['$addFields' => ['newField' => 'this is an added field!']],\n];\n$changeStream = $db->inventory->watch($pipeline);\n$changeStream->rewind();\n\n$firstChange = $changeStream->current();\n\n$changeStream->next();\n\n$secondChange = $changeStream->current();",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 522 } },
                                value:
                                  "/driver-examples/DocumentationExamplesTest.php",
                              },
                            ],
                            options: {
                              language: "php",
                              dedent: 8,
                              "start-after": "Start Changestream Example 4",
                              "end-before": "End Changestream Example 4",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 392 } },
                            value: "PHP",
                          },
                        ],
                        options: { tabid: "php" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 394 } },
                        children: [
                          {
                            type: "directive",
                            position: { start: { line: 397 } },
                            children: [
                              {
                                type: "root",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: "You can control ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: "change stream output",
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "change-stream-output",
                                        flag: "",
                                        fileid: [
                                          "reference/change-events",
                                          "std-label-change-stream-output",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value:
                                          " by\nproviding an array of one or more of the following pipeline stages when\nconfiguring the change stream:",
                                      },
                                    ],
                                  },
                                  {
                                    type: "directive",
                                    position: { start: { line: 4 } },
                                    children: [
                                      {
                                        type: "root",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "directive",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "list",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                children: [
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 0,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 0,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 0,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$addFields",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$addFields",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/addFields",
                                                              "mongodb-pipeline-pipe.-addFields",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 1 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 1,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 1,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 1,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$match",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$match",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/match",
                                                              "mongodb-pipeline-pipe.-match",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 2 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 2,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 2,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 2,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$project",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$project",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/project",
                                                              "mongodb-pipeline-pipe.-project",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 3 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 3,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 3,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 3,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceRoot",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceRoot",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceRoot",
                                                              "mongodb-pipeline-pipe.-replaceRoot",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 4 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 4,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 4,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 4,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceWith",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceWith",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceWith",
                                                              "mongodb-pipeline-pipe.-replaceWith",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 5 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 5,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 5,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 5,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$redact",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$redact",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/redact",
                                                              "mongodb-pipeline-pipe.-redact",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 6 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 6,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 6,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 6,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$set",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target: "pipe.$set",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/set",
                                                              "mongodb-pipeline-pipe.-set",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 7 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 7,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 7,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 7,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$unset",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$unset",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/unset",
                                                              "mongodb-pipeline-pipe.-unset",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                ],
                                                enumtype: "unordered",
                                              },
                                            ],
                                            domain: "",
                                            name: "extract",
                                            argument: [],
                                          },
                                        ],
                                        fileid:
                                          "includes/extracts-changestream.yaml",
                                      },
                                    ],
                                    domain: "",
                                    name: "include",
                                    argument: [
                                      {
                                        type: "text",
                                        position: { start: { line: 4 } },
                                        value:
                                          "/includes/extracts/changestream-available-pipeline-stages.rst",
                                      },
                                    ],
                                  },
                                ],
                                fileid:
                                  "includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                            domain: "",
                            name: "include",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 397 } },
                                value:
                                  "/includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 399 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 399 } },
                                lang: "python",
                                copyable: true,
                                value:
                                  'pipeline = [\n    {"$match": {"fullDocument.username": "alice"}},\n    {"$addFields": {"newField": "this is an added field!"}},\n]\ncursor = db.inventory.watch(pipeline=pipeline)\nnext(cursor)',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 399 } },
                                value: "/driver-examples/test_examples.py",
                              },
                            ],
                            options: {
                              language: "python",
                              dedent: 12,
                              "start-after": "Start Changestream Example 4",
                              "end-before": "End Changestream Example 4",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 392 } },
                            value: "Python",
                          },
                        ],
                        options: { tabid: "python" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 528 } },
                        children: [
                          {
                            type: "directive",
                            position: { start: { line: 531 } },
                            children: [
                              {
                                type: "root",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: "You can control ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: "change stream output",
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "change-stream-output",
                                        flag: "",
                                        fileid: [
                                          "reference/change-events",
                                          "std-label-change-stream-output",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value:
                                          " by\nproviding an array of one or more of the following pipeline stages when\nconfiguring the change stream:",
                                      },
                                    ],
                                  },
                                  {
                                    type: "directive",
                                    position: { start: { line: 4 } },
                                    children: [
                                      {
                                        type: "root",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "directive",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "list",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                children: [
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 0,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 0,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 0,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$addFields",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$addFields",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/addFields",
                                                              "mongodb-pipeline-pipe.-addFields",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 1 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 1,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 1,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 1,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$match",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$match",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/match",
                                                              "mongodb-pipeline-pipe.-match",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 2 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 2,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 2,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 2,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$project",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$project",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/project",
                                                              "mongodb-pipeline-pipe.-project",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 3 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 3,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 3,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 3,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceRoot",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceRoot",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceRoot",
                                                              "mongodb-pipeline-pipe.-replaceRoot",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 4 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 4,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 4,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 4,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceWith",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceWith",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceWith",
                                                              "mongodb-pipeline-pipe.-replaceWith",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 5 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 5,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 5,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 5,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$redact",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$redact",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/redact",
                                                              "mongodb-pipeline-pipe.-redact",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 6 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 6,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 6,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 6,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$set",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target: "pipe.$set",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/set",
                                                              "mongodb-pipeline-pipe.-set",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 7 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 7,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 7,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 7,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$unset",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$unset",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/unset",
                                                              "mongodb-pipeline-pipe.-unset",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                ],
                                                enumtype: "unordered",
                                              },
                                            ],
                                            domain: "",
                                            name: "extract",
                                            argument: [],
                                          },
                                        ],
                                        fileid:
                                          "includes/extracts-changestream.yaml",
                                      },
                                    ],
                                    domain: "",
                                    name: "include",
                                    argument: [
                                      {
                                        type: "text",
                                        position: { start: { line: 4 } },
                                        value:
                                          "/includes/extracts/changestream-available-pipeline-stages.rst",
                                      },
                                    ],
                                  },
                                ],
                                fileid:
                                  "includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                            domain: "",
                            name: "include",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 531 } },
                                value:
                                  "/includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 392 } },
                            value: "Ruby",
                          },
                        ],
                        options: { tabid: "ruby" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 555 } },
                        children: [
                          {
                            type: "directive",
                            position: { start: { line: 558 } },
                            children: [
                              {
                                type: "root",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: "You can control ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: "change stream output",
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "change-stream-output",
                                        flag: "",
                                        fileid: [
                                          "reference/change-events",
                                          "std-label-change-stream-output",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value:
                                          " by\nproviding an array of one or more of the following pipeline stages when\nconfiguring the change stream:",
                                      },
                                    ],
                                  },
                                  {
                                    type: "directive",
                                    position: { start: { line: 4 } },
                                    children: [
                                      {
                                        type: "root",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "directive",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "list",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                children: [
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 0,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 0,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 0,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$addFields",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$addFields",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/addFields",
                                                              "mongodb-pipeline-pipe.-addFields",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 1 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 1,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 1,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 1,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$match",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$match",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/match",
                                                              "mongodb-pipeline-pipe.-match",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 2 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 2,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 2,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 2,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$project",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$project",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/project",
                                                              "mongodb-pipeline-pipe.-project",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 3 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 3,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 3,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 3,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceRoot",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceRoot",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceRoot",
                                                              "mongodb-pipeline-pipe.-replaceRoot",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 4 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 4,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 4,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 4,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceWith",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceWith",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceWith",
                                                              "mongodb-pipeline-pipe.-replaceWith",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 5 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 5,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 5,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 5,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$redact",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$redact",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/redact",
                                                              "mongodb-pipeline-pipe.-redact",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 6 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 6,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 6,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 6,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$set",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target: "pipe.$set",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/set",
                                                              "mongodb-pipeline-pipe.-set",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 7 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 7,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 7,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 7,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$unset",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$unset",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/unset",
                                                              "mongodb-pipeline-pipe.-unset",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                ],
                                                enumtype: "unordered",
                                              },
                                            ],
                                            domain: "",
                                            name: "extract",
                                            argument: [],
                                          },
                                        ],
                                        fileid:
                                          "includes/extracts-changestream.yaml",
                                      },
                                    ],
                                    domain: "",
                                    name: "include",
                                    argument: [
                                      {
                                        type: "text",
                                        position: { start: { line: 4 } },
                                        value:
                                          "/includes/extracts/changestream-available-pipeline-stages.rst",
                                      },
                                    ],
                                  },
                                ],
                                fileid:
                                  "includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                            domain: "",
                            name: "include",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 558 } },
                                value:
                                  "/includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 560 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 560 } },
                                lang: "swift",
                                copyable: true,
                                value:
                                  'let pipeline: [BSONDocument] = [\n    ["$match": ["fullDocument.username": "alice"]],\n    ["$addFields": ["newField": "this is an added field!"]]\n]\nlet inventory = db.collection("inventory")\n\n// Option 1: use next() to iterate\nlet next = inventory.watch(pipeline, withEventType: BSONDocument.self).flatMap { changeStream in\n    changeStream.next()\n}\n\n// Option 2: register a callback to execute for each document\nlet result = inventory.watch(pipeline, withEventType: BSONDocument.self).flatMap { changeStream in\n    changeStream.forEach { event in\n        // process event\n        print(event)\n    }\n}',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 560 } },
                                value: "/driver-examples/swiftAsync.swift",
                              },
                            ],
                            options: {
                              language: "swift",
                              dedent: 8,
                              "start-after": "Start Changestream Example 4",
                              "end-before": "End Changestream Example 4",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 392 } },
                            value: "Swift (Async)",
                          },
                        ],
                        options: { tabid: "swift-async" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 544 } },
                        children: [
                          {
                            type: "directive",
                            position: { start: { line: 547 } },
                            children: [
                              {
                                type: "root",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: "You can control ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: "change stream output",
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "change-stream-output",
                                        flag: "",
                                        fileid: [
                                          "reference/change-events",
                                          "std-label-change-stream-output",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value:
                                          " by\nproviding an array of one or more of the following pipeline stages when\nconfiguring the change stream:",
                                      },
                                    ],
                                  },
                                  {
                                    type: "directive",
                                    position: { start: { line: 4 } },
                                    children: [
                                      {
                                        type: "root",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "directive",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "list",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                children: [
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 0,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 0,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 0,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$addFields",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$addFields",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/addFields",
                                                              "mongodb-pipeline-pipe.-addFields",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 1 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 1,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 1,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 1,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$match",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$match",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/match",
                                                              "mongodb-pipeline-pipe.-match",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 2 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 2,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 2,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 2,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$project",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$project",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/project",
                                                              "mongodb-pipeline-pipe.-project",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 3 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 3,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 3,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 3,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceRoot",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceRoot",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceRoot",
                                                              "mongodb-pipeline-pipe.-replaceRoot",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 4 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 4,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 4,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 4,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$replaceWith",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$replaceWith",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/replaceWith",
                                                              "mongodb-pipeline-pipe.-replaceWith",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 5 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 5,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 5,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 5,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$redact",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$redact",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/redact",
                                                              "mongodb-pipeline-pipe.-redact",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 6 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 6,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 6,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 6,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$set",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target: "pipe.$set",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/set",
                                                              "mongodb-pipeline-pipe.-set",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "listItem",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "paragraph",
                                                        position: {
                                                          start: { line: 7 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "ref_role",
                                                            position: {
                                                              start: {
                                                                line: 7,
                                                              },
                                                            },
                                                            children: [
                                                              {
                                                                type: "literal",
                                                                position: {
                                                                  start: {
                                                                    line: 7,
                                                                  },
                                                                },
                                                                children: [
                                                                  {
                                                                    type: "text",
                                                                    position: {
                                                                      start: {
                                                                        line: 7,
                                                                      },
                                                                    },
                                                                    value:
                                                                      "$unset",
                                                                  },
                                                                ],
                                                              },
                                                            ],
                                                            domain: "mongodb",
                                                            name: "pipeline",
                                                            target:
                                                              "pipe.$unset",
                                                            flag: "",
                                                            fileid: [
                                                              "reference/operator/aggregation/unset",
                                                              "mongodb-pipeline-pipe.-unset",
                                                            ],
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                ],
                                                enumtype: "unordered",
                                              },
                                            ],
                                            domain: "",
                                            name: "extract",
                                            argument: [],
                                          },
                                        ],
                                        fileid:
                                          "includes/extracts-changestream.yaml",
                                      },
                                    ],
                                    domain: "",
                                    name: "include",
                                    argument: [
                                      {
                                        type: "text",
                                        position: { start: { line: 4 } },
                                        value:
                                          "/includes/extracts/changestream-available-pipeline-stages.rst",
                                      },
                                    ],
                                  },
                                ],
                                fileid:
                                  "includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                            domain: "",
                            name: "include",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 547 } },
                                value:
                                  "/includes/fact-change-streams-modify-output.rst",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 549 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 549 } },
                                lang: "swift",
                                copyable: true,
                                value:
                                  'let pipeline: [BSONDocument] = [\n    ["$match": ["fullDocument.username": "alice"]],\n    ["$addFields": ["newField": "this is an added field!"]]\n]\nlet inventory = db.collection("inventory")\nlet changeStream = try inventory.watch(pipeline, withEventType: BSONDocument.self)\nlet next = changeStream.next()',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 549 } },
                                value: "/driver-examples/swiftSync.swift",
                              },
                            ],
                            options: {
                              language: "swift",
                              dedent: 8,
                              "start-after": "Start Changestream Example 4",
                              "end-before": "End Changestream Example 4",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 392 } },
                            value: "Swift (Sync)",
                          },
                        ],
                        options: { tabid: "swift-sync" },
                      },
                    ],
                    domain: "",
                    name: "tabs",
                    argument: [],
                    options: { tabset: "drivers" },
                  },
                  {
                    type: "directive",
                    position: { start: { line: 567 } },
                    children: [
                      {
                        type: "paragraph",
                        position: { start: { line: 569 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 569 } },
                            value: "The ",
                          },
                          {
                            type: "ref_role",
                            position: { start: { line: 569 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 569 } },
                                value: "_id",
                              },
                            ],
                            domain: "std",
                            name: "label",
                            target: "change-stream-event-id",
                            flag: "",
                            fileid: [
                              "reference/change-events",
                              "std-label-change-stream-event-id",
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 569 } },
                            value:
                              " field of the change stream\nevent document act as the ",
                          },
                          {
                            type: "ref_role",
                            position: { start: { line: 569 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 569 } },
                                value: "resume token",
                              },
                            ],
                            domain: "std",
                            name: "label",
                            target: "change-stream-resume",
                            flag: "",
                            fileid: [
                              "changeStreams",
                              "std-label-change-stream-resume",
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 569 } },
                            value:
                              ". Do not use the pipeline to modify or remove\nthe change stream event's ",
                          },
                          {
                            type: "literal",
                            position: { start: { line: 569 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 569 } },
                                value: "_id",
                              },
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 569 } },
                            value: " field.",
                          },
                        ],
                      },
                      {
                        type: "directive",
                        position: { start: { line: 574 } },
                        children: [
                          {
                            type: "root",
                            position: { start: { line: 0 } },
                            children: [
                              {
                                type: "directive",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value:
                                          "Starting in MongoDB 4.2, change streams will throw an exception if\nthe ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value:
                                              "change stream aggregation pipeline",
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "change-stream-modify-output",
                                        flag: "",
                                        fileid: [
                                          "changeStreams",
                                          "std-label-change-stream-modify-output",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: " modifies an event's ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: "_id",
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "change-stream-event-id",
                                        flag: "",
                                        fileid: [
                                          "reference/change-events",
                                          "std-label-change-stream-event-id",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: " field.",
                                      },
                                    ],
                                  },
                                ],
                                domain: "",
                                name: "extract",
                                argument: [],
                              },
                            ],
                            fileid: "includes/extracts-4.2-changes.yaml",
                          },
                        ],
                        domain: "",
                        name: "include",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 574 } },
                            value:
                              "/includes/extracts/4.2-changes-change-stream-modification-error.rst",
                          },
                        ],
                      },
                      {
                        type: "paragraph",
                        position: { start: { line: 577 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 577 } },
                            value: "See ",
                          },
                          {
                            type: "ref_role",
                            position: { start: { line: 577 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 577 } },
                                value: "Change Events",
                              },
                            ],
                            domain: "std",
                            name: "label",
                            target: "change-stream-output",
                            flag: "",
                            fileid: [
                              "reference/change-events",
                              "std-label-change-stream-output",
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 577 } },
                            value:
                              " for more information on the change stream\nresponse document format.",
                          },
                        ],
                      },
                    ],
                    domain: "",
                    name: "tip",
                    argument: [],
                  },
                  {
                    type: "target",
                    position: { start: { line: 580 } },
                    children: [
                      {
                        type: "target_identifier",
                        position: { start: { line: 580 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 583 } },
                            value: "Lookup Full Document for Update Operations",
                          },
                        ],
                        ids: ["change-streams-updateLookup"],
                      },
                    ],
                    domain: "std",
                    name: "label",
                    html_id: "std-label-change-streams-updateLookup",
                  },
                ],
              },
              {
                type: "section",
                position: { start: { line: 583 } },
                children: [
                  {
                    type: "heading",
                    position: { start: { line: 583 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 583 } },
                        value: "Lookup Full Document for Update Operations",
                      },
                    ],
                    id: "lookup-full-document-for-update-operations",
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 585 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 585 } },
                        value:
                          "By default, change streams only return the delta of fields during\nthe update operation. However, you can configure the change stream\nto return the most current majority-committed version of the updated\ndocument.",
                      },
                    ],
                  },
                  { type: "transition", position: { start: { line: 590 } } },
                  {
                    type: "paragraph",
                    position: { start: { line: 592 } },
                    children: [
                      {
                        type: "substitution_reference",
                        position: { start: { line: 592 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 180 } },
                            value: "",
                          },
                        ],
                        name: "arrow",
                      },
                      {
                        type: "text",
                        position: { start: { line: 592 } },
                        value: " Use the ",
                      },
                      {
                        type: "strong",
                        position: { start: { line: 592 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 592 } },
                            value: "Select your language",
                          },
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 592 } },
                        value:
                          " drop-down menu in the\nupper-right to set the language of the examples on this page.",
                      },
                    ],
                  },
                  { type: "transition", position: { start: { line: 595 } } },
                  {
                    type: "directive",
                    position: { start: { line: 597 } },
                    children: [
                      {
                        type: "directive",
                        position: { start: { line: 667 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 670 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 670 } },
                                value:
                                  "To return the most current majority-committed version of the updated\ndocument, pass the ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 670 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 670 } },
                                    value: '"fullDocument"',
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 670 } },
                                value: " option with the ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 670 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 670 } },
                                    value: '"updateLookup"',
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 670 } },
                                value: " value to the\n",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 670 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 670 } },
                                    value: "mongoc_collection_watch",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 670 } },
                                value: " method.",
                              },
                            ],
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 674 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 674 } },
                                value:
                                  "In the example below, all update operations notifications\ninclude a ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 674 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 674 } },
                                    value: "fullDocument",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 674 } },
                                value: " field that represents the ",
                              },
                              {
                                type: "emphasis",
                                position: { start: { line: 674 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 674 } },
                                    value: "current",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 674 } },
                                value:
                                  "\nversion of the document affected by the update operation.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 678 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 678 } },
                                lang: "c",
                                copyable: true,
                                value:
                                  'BSON_APPEND_UTF8 (&opts, "fullDocument", "updateLookup");\nstream = mongoc_collection_watch (collection, pipeline, &opts);\nmongoc_change_stream_next (stream, &change);\nif (mongoc_change_stream_error_document (stream, &error, NULL)) {\n   MONGOC_ERROR ("%s\\n", error.message);\n}\n\nmongoc_change_stream_destroy (stream);',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 678 } },
                                value:
                                  "/driver-examples/test-mongoc-sample-commands.c",
                              },
                            ],
                            options: {
                              language: "c",
                              dedent: 3,
                              "start-after": "Start Changestream Example 2",
                              "end-before": "End Changestream Example 2",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 597 } },
                            value: "C",
                          },
                        ],
                        options: { tabid: "c" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 684 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 687 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 687 } },
                                value:
                                  "To return the most current majority-committed version of the updated\ndocument, pass ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 687 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 687 } },
                                    value:
                                      '"FullDocument = ChangeStreamFullDocumentOption.UpdateLookup"',
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 687 } },
                                value: " to the\n",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 687 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 687 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 687 } },
                                        value: "db.collection.watch()",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "method",
                                target: "db.collection.watch",
                                flag: "",
                                fileid: [
                                  "reference/method/db.collection.watch",
                                  "mongodb-method-db.collection.watch",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 687 } },
                                value: " method.",
                              },
                            ],
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 691 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 691 } },
                                value:
                                  "In the example below, all update operations notifications\ninclude a ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 691 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 691 } },
                                    value: "FullDocument",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 691 } },
                                value: " field that represents the ",
                              },
                              {
                                type: "emphasis",
                                position: { start: { line: 691 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 691 } },
                                    value: "current",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 691 } },
                                value:
                                  "\nversion of the document affected by the update operation.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 695 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 695 } },
                                lang: "csharp",
                                copyable: true,
                                value:
                                  "var options = new ChangeStreamOptions { FullDocument = ChangeStreamFullDocumentOption.UpdateLookup };\nvar cursor = inventory.Watch(options);\nwhile (cursor.MoveNext() && cursor.Current.Count() == 0) { } // keep calling MoveNext until we've read the first batch\nvar next = cursor.Current.First();\ncursor.Dispose();",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 695 } },
                                value:
                                  "/driver-examples/ChangeStreamExamples.cs",
                              },
                            ],
                            options: {
                              language: "csharp",
                              dedent: 12,
                              "start-after": "Start Changestream Example 2",
                              "end-before": "End Changestream Example 2",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 597 } },
                            value: "C#",
                          },
                        ],
                        options: { tabid: "csharp" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 764 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 767 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 767 } },
                                value:
                                  "To return the most current majority-committed version of the\nupdated document, ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 767 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 767 } },
                                    value:
                                      "SetFullDocument(options.UpdateLookup)",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 767 } },
                                value: "\nchange stream option.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 771 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 771 } },
                                lang: "go",
                                copyable: true,
                                value:
                                  "\ncs, err := coll.Watch(ctx, mongo.Pipeline{}, options.ChangeStream().SetFullDocument(options.UpdateLookup))\nassert.NoError(t, err)\ndefer cs.Close(ctx)\n\nok := cs.Next(ctx)\nnext := cs.Current\n",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 771 } },
                                value: "/driver-examples/go_examples.go",
                              },
                            ],
                            options: {
                              language: "go",
                              dedent: 2,
                              "start-after": "Start Changestream Example 2",
                              "end-before": "End Changestream Example 2",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 597 } },
                            value: "Go",
                          },
                        ],
                        options: { tabid: "go" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 633 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 636 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 636 } },
                                value:
                                  "To return the most current majority-committed version of the updated\ndocument, pass ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 636 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 636 } },
                                    value: "FullDocument.UPDATE_LOOKUP",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 636 } },
                                value: "  to the\n",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 636 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 636 } },
                                    value: "db.collection.watch.fullDocument()",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 636 } },
                                value: " method.",
                              },
                            ],
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 640 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 640 } },
                                value:
                                  "In the example below, all update operations notifications\ninclude a ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 640 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 640 } },
                                    value: "FullDocument",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 640 } },
                                value: " field that represents the ",
                              },
                              {
                                type: "emphasis",
                                position: { start: { line: 640 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 640 } },
                                    value: "current",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 640 } },
                                value:
                                  "\nversion of the document affected by the update operation.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 644 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 644 } },
                                lang: "java",
                                copyable: true,
                                value:
                                  "cursor = inventory.watch().fullDocument(FullDocument.UPDATE_LOOKUP).iterator();\nnext = cursor.next();",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 644 } },
                                value:
                                  "/driver-examples/DocumentationSamples.java",
                              },
                            ],
                            options: {
                              language: "java",
                              dedent: 8,
                              "start-after": "Start Changestream Example 2",
                              "end-before": "End Changestream Example 2",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 597 } },
                            value: "Java (Sync)",
                          },
                        ],
                        options: { tabid: "java-sync" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 650 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 653 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 653 } },
                                value:
                                  "To return the most current majority-committed version of the updated\ndocument, pass ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 653 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 653 } },
                                    value: "FullDocument.UPDATE_LOOKUP",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 653 } },
                                value: "  to the\n",
                              },
                              {
                                type: "reference",
                                position: { start: { line: 653 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 653 } },
                                    value: "ChangeStreamFlow.fullDocument()",
                                  },
                                ],
                                refuri:
                                  "https://mongodb.github.io/mongo-java-driver/4.11/apidocs/mongodb-driver-kotlin-coroutine/mongodb-driver-kotlin-coroutine/com.mongodb.kotlin.client.coroutine/-change-stream-flow/full-document.html",
                              },
                              {
                                type: "text",
                                position: { start: { line: 653 } },
                                value: " method.",
                              },
                            ],
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 657 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 657 } },
                                value:
                                  "In the example below, all update operations notifications\ninclude a ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 657 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 657 } },
                                    value: "FullDocument",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 657 } },
                                value: " field that represents the ",
                              },
                              {
                                type: "emphasis",
                                position: { start: { line: 657 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 657 } },
                                    value: "current",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 657 } },
                                value:
                                  "\nversion of the document affected by the update operation.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 661 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 661 } },
                                lang: "kotlin",
                                copyable: true,
                                value:
                                  "val job = launch {\n    val changeStream = collection.watch()\n        .fullDocument(FullDocument.UPDATE_LOOKUP)\n    changeStream.collect {\n        println(it)\n    }\n}",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 661 } },
                                value: "/driver-examples/kotlin_examples.kt",
                              },
                            ],
                            options: {
                              language: "kotlin",
                              dedent: true,
                              "start-after": "Start Changestream Example 2",
                              "end-before": "End Changestream Example 2",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 597 } },
                            value: "Kotlin (Coroutine)",
                          },
                        ],
                        options: { tabid: "kotlin-coroutine" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 616 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 619 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 619 } },
                                value:
                                  "To return the most current majority-committed version of the updated\ndocument, pass ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 619 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 619 } },
                                    value: "full_document='updateLookup'",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 619 } },
                                value: " to the\n",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 619 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 619 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 619 } },
                                        value: "db.collection.watch()",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "method",
                                target: "db.collection.watch",
                                flag: "",
                                fileid: [
                                  "reference/method/db.collection.watch",
                                  "mongodb-method-db.collection.watch",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 619 } },
                                value: " method.",
                              },
                            ],
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 623 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 623 } },
                                value:
                                  "In the example below, all update operations notifications\ninclude a ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 623 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 623 } },
                                    value: "`full_document",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 623 } },
                                value: " field that represents the ",
                              },
                              {
                                type: "emphasis",
                                position: { start: { line: 623 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 623 } },
                                    value: "current",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 623 } },
                                value:
                                  "\nversion of the document affected by the update operation.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 627 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 627 } },
                                lang: "python",
                                copyable: true,
                                value:
                                  'cursor = db.inventory.watch(full_document="updateLookup")\ndocument = await cursor.next()',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 627 } },
                                value:
                                  "/driver-examples/test_examples_motor.py",
                              },
                            ],
                            options: {
                              language: "python",
                              dedent: 12,
                              "start-after": "Start Changestream Example 2",
                              "end-before": "End Changestream Example 2",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 597 } },
                            value: "Motor",
                          },
                        ],
                        options: { tabid: "motor" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 702 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 705 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 705 } },
                                value:
                                  "To return the most current majority-committed version of the updated\ndocument, pass ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 705 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 705 } },
                                    value: "{ fullDocument: 'updateLookup' }",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 705 } },
                                value: " to the\n",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 705 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 705 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 705 } },
                                        value: "db.collection.watch()",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "method",
                                target: "db.collection.watch",
                                flag: "",
                                fileid: [
                                  "reference/method/db.collection.watch",
                                  "mongodb-method-db.collection.watch",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 705 } },
                                value: " method.",
                              },
                            ],
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 709 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 709 } },
                                value:
                                  "In the example below, all update operations notifications\ninclude a ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 709 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 709 } },
                                    value: "fullDocument",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 709 } },
                                value: " field that represents the ",
                              },
                              {
                                type: "emphasis",
                                position: { start: { line: 709 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 709 } },
                                    value: "current",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 709 } },
                                value:
                                  "\nversion of the document affected by the update operation.",
                              },
                            ],
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 713 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 713 } },
                                value:
                                  "The following example uses stream to process the change events.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 715 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 715 } },
                                lang: "javascript",
                                copyable: true,
                                value:
                                  "const collection = db.collection('inventory');\nconst changeStream = collection.watch([], { fullDocument: 'updateLookup' });\nchangeStream\n  .on('change', next => {\n    // process next document\n  })\n  .once('error', error => {\n    // handle error\n  });",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 715 } },
                                value: "/driver-examples/node_changestreams.js",
                              },
                            ],
                            options: {
                              language: "javascript",
                              dedent: 6,
                              "start-after": "Start Changestream Example 2",
                              "end-before": "End Changestream Example 2",
                            },
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 721 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 721 } },
                                value:
                                  "Alternatively, you can also use iterator to process the change events:",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 723 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 723 } },
                                lang: "javascript",
                                copyable: true,
                                value:
                                  "const changeStreamIterator = collection.watch([], { fullDocument: 'updateLookup' });\nconst next = await changeStreamIterator.next();",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 723 } },
                                value: "/driver-examples/node_changestreams.js",
                              },
                            ],
                            options: {
                              language: "javascript",
                              dedent: 6,
                              "start-after":
                                "Start Changestream Example 2 Alternative",
                              "end-before":
                                "End Changestream Example 2 Alternative",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 597 } },
                            value: "Node.js",
                          },
                        ],
                        options: { tabid: "nodejs" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 729 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 732 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 732 } },
                                value:
                                  "To return the most current\nmajority-committed version of the updated document, pass\n",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 732 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 732 } },
                                    value:
                                      '"fullDocument\' => \\MongoDB\\Operation\\ChangeStreamCommand::FULL_DOCUMENT_UPDATE_LOOKUP"',
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 732 } },
                                value: "\nto the ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 732 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 732 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 732 } },
                                        value: "db.watch()",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "method",
                                target: "db.watch",
                                flag: "",
                                fileid: [
                                  "reference/method/db.watch",
                                  "mongodb-method-db.watch",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 732 } },
                                value: " method.",
                              },
                            ],
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 737 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 737 } },
                                value:
                                  "In the example below, all update operations notifications\ninclude a ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 737 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 737 } },
                                    value: "fullDocument",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 737 } },
                                value: " field that represents the ",
                              },
                              {
                                type: "emphasis",
                                position: { start: { line: 737 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 737 } },
                                    value: "current",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 737 } },
                                value:
                                  "\nversion of the document affected by the update operation.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 741 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 741 } },
                                lang: "php",
                                copyable: true,
                                value:
                                  "$changeStream = $db->inventory->watch([], ['fullDocument' => \\MongoDB\\Operation\\Watch::FULL_DOCUMENT_UPDATE_LOOKUP]);\n$changeStream->rewind();\n\n$firstChange = $changeStream->current();\n\n$changeStream->next();\n\n$secondChange = $changeStream->current();",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 741 } },
                                value:
                                  "/driver-examples/DocumentationExamplesTest.php",
                              },
                            ],
                            options: {
                              language: "php",
                              dedent: 8,
                              "start-after": "Start Changestream Example 2",
                              "end-before": "End Changestream Example 2",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 597 } },
                            value: "PHP",
                          },
                        ],
                        options: { tabid: "php" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 599 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 602 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 602 } },
                                value:
                                  "To return the most current majority-committed version of the updated\ndocument, pass ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 602 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 602 } },
                                    value: "full_document='updateLookup'",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 602 } },
                                value: " to the\n",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 602 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 602 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 602 } },
                                        value: "db.collection.watch()",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "method",
                                target: "db.collection.watch",
                                flag: "",
                                fileid: [
                                  "reference/method/db.collection.watch",
                                  "mongodb-method-db.collection.watch",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 602 } },
                                value: " method.",
                              },
                            ],
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 606 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 606 } },
                                value:
                                  "In the example below, all update operations notifications\ninclude a ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 606 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 606 } },
                                    value: "full_document",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 606 } },
                                value: " field that represents the ",
                              },
                              {
                                type: "emphasis",
                                position: { start: { line: 606 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 606 } },
                                    value: "current",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 606 } },
                                value:
                                  "\nversion of the document affected by the update operation.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 610 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 610 } },
                                lang: "python",
                                copyable: true,
                                value:
                                  'cursor = db.inventory.watch(full_document="updateLookup")\nnext(cursor)',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 610 } },
                                value: "/driver-examples/test_examples.py",
                              },
                            ],
                            options: {
                              language: "python",
                              dedent: 12,
                              "start-after": "Start Changestream Example 2",
                              "end-before": "End Changestream Example 2",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 597 } },
                            value: "Python",
                          },
                        ],
                        options: { tabid: "python" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 747 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 750 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 750 } },
                                value:
                                  "To return the most current majority-committed version of the updated\ndocument, pass ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 750 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 750 } },
                                    value: "full_document: 'updateLookup'",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 750 } },
                                value: " to the\n",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 750 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 750 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 750 } },
                                        value: "db.watch()",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "method",
                                target: "db.watch",
                                flag: "",
                                fileid: [
                                  "reference/method/db.watch",
                                  "mongodb-method-db.watch",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 750 } },
                                value: " method.",
                              },
                            ],
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 754 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 754 } },
                                value:
                                  "In the example below, all update operations notifications\ninclude a ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 754 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 754 } },
                                    value: "full_document",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 754 } },
                                value: " field that represents the ",
                              },
                              {
                                type: "emphasis",
                                position: { start: { line: 754 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 754 } },
                                    value: "current",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 754 } },
                                value:
                                  "\nversion of the document affected by the update operation.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 758 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 758 } },
                                lang: "ruby",
                                copyable: true,
                                value:
                                  "\ncursor = inventory.watch([], full_document: 'updateLookup').to_enum\nnext_change = cursor.next\n",
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 758 } },
                                value:
                                  "/driver-examples/change_stream_examples_spec.rb",
                              },
                            ],
                            options: {
                              language: "ruby",
                              dedent: 8,
                              "start-after": "Start Changestream Example 2",
                              "end-before": "End Changestream Example 2",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 597 } },
                            value: "Ruby",
                          },
                        ],
                        options: { tabid: "ruby" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 791 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 794 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 794 } },
                                value:
                                  "To return the most current majority-committed version of\nthe updated document, pass ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 794 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 794 } },
                                    value:
                                      "options:\nChangeStreamOptions(fullDocument: .updateLookup)",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 794 } },
                                value: " to the\n",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 794 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 794 } },
                                    value: "watch()",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 794 } },
                                value: " method.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 799 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 799 } },
                                lang: "swift",
                                copyable: true,
                                value:
                                  'let inventory = db.collection("inventory")\n\n// Option 1: use next() to iterate\nlet next = inventory.watch(options: ChangeStreamOptions(fullDocument: .updateLookup))\n    .flatMap { changeStream in\n        changeStream.next()\n    }\n\n// Option 2: register a callback to execute for each document\nlet result = inventory.watch(options: ChangeStreamOptions(fullDocument: .updateLookup))\n    .flatMap { changeStream in\n        changeStream.forEach { event in\n            // process event\n            print(event)\n        }\n    }',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 799 } },
                                value: "/driver-examples/swiftAsync.swift",
                              },
                            ],
                            options: {
                              language: "swift",
                              dedent: 8,
                              "start-after": "Start Changestream Example 2",
                              "end-before": "End Changestream Example 2",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 597 } },
                            value: "Swift (Async)",
                          },
                        ],
                        options: { tabid: "swift-async" },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 777 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 780 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 780 } },
                                value:
                                  "To return the most current majority-committed version of\nthe updated document, pass ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 780 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 780 } },
                                    value:
                                      "options:\nChangeStreamOptions(fullDocument: .updateLookup)",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 780 } },
                                value: " to the\n",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 780 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 780 } },
                                    value: "watch()",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 780 } },
                                value: " method.",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 785 } },
                            children: [
                              {
                                type: "code",
                                position: { start: { line: 785 } },
                                lang: "swift",
                                copyable: true,
                                value:
                                  'let inventory = db.collection("inventory")\nlet changeStream = try inventory.watch(options: ChangeStreamOptions(fullDocument: .updateLookup))\nlet next = changeStream.next()',
                                linenos: false,
                              },
                            ],
                            domain: "",
                            name: "literalinclude",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 785 } },
                                value: "/driver-examples/swiftSync.swift",
                              },
                            ],
                            options: {
                              language: "swift",
                              dedent: 8,
                              "start-after": "Start Changestream Example 2",
                              "end-before": "End Changestream Example 2",
                            },
                          },
                        ],
                        domain: "",
                        name: "tab",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 597 } },
                            value: "Swift (Sync)",
                          },
                        ],
                        options: { tabid: "swift-sync" },
                      },
                    ],
                    domain: "",
                    name: "tabs",
                    argument: [],
                    options: { tabset: "drivers" },
                  },
                  {
                    type: "directive",
                    position: { start: { line: 805 } },
                    children: [
                      {
                        type: "paragraph",
                        position: { start: { line: 807 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 807 } },
                            value:
                              "If there are one or more majority-committed operations that modified\nthe updated document ",
                          },
                          {
                            type: "emphasis",
                            position: { start: { line: 807 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 807 } },
                                value: "after",
                              },
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 807 } },
                            value: " the update operation but ",
                          },
                          {
                            type: "emphasis",
                            position: { start: { line: 807 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 807 } },
                                value: "before",
                              },
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 807 } },
                            value:
                              " the\nlookup, the full document returned may differ significantly from the\ndocument at the time of the update operation.",
                          },
                        ],
                      },
                      {
                        type: "paragraph",
                        position: { start: { line: 812 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 812 } },
                            value:
                              "However, the deltas included in the change stream document always\ncorrectly describe the watched collection changes that applied to\nthat change stream event.",
                          },
                        ],
                      },
                      {
                        type: "paragraph",
                        position: { start: { line: 816 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 816 } },
                            value: "The ",
                          },
                          {
                            type: "literal",
                            position: { start: { line: 816 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 816 } },
                                value: "fullDocument",
                              },
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 816 } },
                            value:
                              " field for an update event may be missing if one\nof the following is true:",
                          },
                        ],
                      },
                      {
                        type: "list",
                        position: { start: { line: 819 } },
                        children: [
                          {
                            type: "listItem",
                            position: { start: { line: 819 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 819 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 819 } },
                                    value:
                                      "If the document is deleted or if the collection is dropped in\nbetween the update and the lookup.",
                                  },
                                ],
                              },
                            ],
                          },
                          {
                            type: "listItem",
                            position: { start: { line: 819 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 821 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 821 } },
                                    value:
                                      "If the update changes the values for at least one of the fields in\nthat collection's shard key.",
                                  },
                                ],
                              },
                            ],
                          },
                        ],
                        enumtype: "unordered",
                      },
                      {
                        type: "paragraph",
                        position: { start: { line: 824 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 824 } },
                            value: "See ",
                          },
                          {
                            type: "ref_role",
                            position: { start: { line: 824 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 824 } },
                                value: "Change Events",
                              },
                            ],
                            domain: "std",
                            name: "label",
                            target: "change-stream-output",
                            flag: "",
                            fileid: [
                              "reference/change-events",
                              "std-label-change-stream-output",
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 824 } },
                            value:
                              " for more information on the change\nstream response document format.",
                          },
                        ],
                      },
                    ],
                    domain: "",
                    name: "note",
                    argument: [],
                  },
                  {
                    type: "target",
                    position: { start: { line: 827 } },
                    children: [
                      {
                        type: "target_identifier",
                        position: { start: { line: 827 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 830 } },
                            value: "Resume a Change Stream",
                          },
                        ],
                        ids: ["change-stream-resume"],
                      },
                    ],
                    domain: "std",
                    name: "label",
                    html_id: "std-label-change-stream-resume",
                  },
                ],
              },
              {
                type: "section",
                position: { start: { line: 830 } },
                children: [
                  {
                    type: "heading",
                    position: { start: { line: 830 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 830 } },
                        value: "Resume a Change Stream",
                      },
                    ],
                    id: "resume-a-change-stream",
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 832 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 832 } },
                        value:
                          "Change streams are resumable by specifying a resume token to either\n",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 832 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 832 } },
                            value: "resumeAfter",
                          },
                        ],
                        domain: "std",
                        name: "label",
                        target: "change-stream-resume-after",
                        flag: "",
                        fileid: [
                          "changeStreams",
                          "std-label-change-stream-resume-after",
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 832 } },
                        value: " or\n",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 832 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 832 } },
                            value: "startAfter",
                          },
                        ],
                        domain: "std",
                        name: "label",
                        target: "change-stream-start-after",
                        flag: "",
                        fileid: [
                          "changeStreams",
                          "std-label-change-stream-start-after",
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 832 } },
                        value: " when opening the cursor.",
                      },
                    ],
                  },
                  {
                    type: "target",
                    position: { start: { line: 836 } },
                    children: [
                      {
                        type: "target_identifier",
                        position: { start: { line: 836 } },
                        children: [
                          {
                            type: "literal",
                            position: { start: { line: 839 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 839 } },
                                value: "resumeAfter",
                              },
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 839 } },
                            value: " for Change Streams",
                          },
                        ],
                        ids: ["change-stream-resume-after"],
                      },
                    ],
                    domain: "std",
                    name: "label",
                    html_id: "std-label-change-stream-resume-after",
                  },
                  {
                    type: "section",
                    position: { start: { line: 839 } },
                    children: [
                      {
                        type: "heading",
                        position: { start: { line: 839 } },
                        children: [
                          {
                            type: "literal",
                            position: { start: { line: 839 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 839 } },
                                value: "resumeAfter",
                              },
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 839 } },
                            value: " for Change Streams",
                          },
                        ],
                        id: "resumeafter-for-change-streams",
                      },
                      {
                        type: "paragraph",
                        position: { start: { line: 841 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 841 } },
                            value:
                              "You can resume a change stream after a specific event by passing a resume token\nto ",
                          },
                          {
                            type: "literal",
                            position: { start: { line: 841 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 841 } },
                                value: "resumeAfter",
                              },
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 841 } },
                            value: " when opening the cursor.",
                          },
                        ],
                      },
                      {
                        type: "paragraph",
                        position: { start: { line: 844 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 844 } },
                            value: "See ",
                          },
                          {
                            type: "ref_role",
                            position: { start: { line: 844 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 844 } },
                                value: "Resume Tokens",
                              },
                            ],
                            domain: "std",
                            name: "label",
                            target: "change-stream-resume-token",
                            flag: "",
                            fileid: [
                              "changeStreams",
                              "std-label-change-stream-resume-token",
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 844 } },
                            value: " for more information on the resume token.",
                          },
                        ],
                      },
                      {
                        type: "directive",
                        position: { start: { line: 846 } },
                        children: [
                          {
                            type: "list",
                            position: { start: { line: 848 } },
                            children: [
                              {
                                type: "listItem",
                                position: { start: { line: 848 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 848 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 848 } },
                                        value:
                                          "The oplog must have enough history to locate the operation\nassociated with the token or the timestamp, if the timestamp is in\nthe past.",
                                      },
                                    ],
                                  },
                                ],
                              },
                              {
                                type: "listItem",
                                position: { start: { line: 848 } },
                                children: [
                                  {
                                    type: "directive",
                                    position: { start: { line: 852 } },
                                    children: [
                                      {
                                        type: "root",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "directive",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "paragraph",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    value: "You cannot use ",
                                                  },
                                                  {
                                                    type: "literal",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "text",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        value: "resumeAfter",
                                                      },
                                                    ],
                                                  },
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    value:
                                                      " to resume a change stream after an\n",
                                                  },
                                                  {
                                                    type: "ref_role",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "text",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        value:
                                                          "invalidate event",
                                                      },
                                                    ],
                                                    domain: "std",
                                                    name: "label",
                                                    target:
                                                      "change-event-invalidate",
                                                    flag: "",
                                                    fileid: [
                                                      "reference/change-events/invalidate",
                                                      "std-label-change-event-invalidate",
                                                    ],
                                                  },
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    value:
                                                      " (for example, a collection\ndrop or rename) closes the stream. Instead, you can use\n",
                                                  },
                                                  {
                                                    type: "ref_role",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "text",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        value: "startAfter",
                                                      },
                                                    ],
                                                    domain: "std",
                                                    name: "label",
                                                    target:
                                                      "change-stream-start-after",
                                                    flag: "",
                                                    fileid: [
                                                      "changeStreams",
                                                      "std-label-change-stream-start-after",
                                                    ],
                                                  },
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    value:
                                                      " to start a new change\nstream after an ",
                                                  },
                                                  {
                                                    type: "ref_role",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "text",
                                                        position: {
                                                          start: { line: 0 },
                                                        },
                                                        value:
                                                          "invalidate event",
                                                      },
                                                    ],
                                                    domain: "std",
                                                    name: "label",
                                                    target:
                                                      "change-event-invalidate",
                                                    flag: "",
                                                    fileid: [
                                                      "reference/change-events/invalidate",
                                                      "std-label-change-event-invalidate",
                                                    ],
                                                  },
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    value: ".",
                                                  },
                                                ],
                                              },
                                            ],
                                            domain: "",
                                            name: "extract",
                                            argument: [],
                                          },
                                        ],
                                        fileid:
                                          "includes/extracts-changestream.yaml",
                                      },
                                    ],
                                    domain: "",
                                    name: "include",
                                    argument: [
                                      {
                                        type: "text",
                                        position: { start: { line: 852 } },
                                        value:
                                          "/includes/extracts/changestream-invalid-events.rst",
                                      },
                                    ],
                                  },
                                ],
                              },
                            ],
                            enumtype: "unordered",
                          },
                        ],
                        domain: "",
                        name: "important",
                        argument: [],
                      },
                      {
                        type: "directive",
                        position: { start: { line: 854 } },
                        children: [
                          {
                            type: "directive",
                            position: { start: { line: 935 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 938 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 938 } },
                                    value: "In the example below, the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 938 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 938 } },
                                        value: "resumeAfter",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 938 } },
                                    value:
                                      " option is appended to the stream options\nto recreate the stream after it has been destroyed. Passing the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 938 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 938 } },
                                        value: "_id",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 938 } },
                                    value:
                                      " to\nthe change stream attempts to resume notifications starting after the\noperation specified.",
                                  },
                                ],
                              },
                              {
                                type: "directive",
                                position: { start: { line: 944 } },
                                children: [
                                  {
                                    type: "code",
                                    position: { start: { line: 944 } },
                                    lang: "C",
                                    copyable: true,
                                    value:
                                      'stream = mongoc_collection_watch (collection, pipeline, NULL);\nif (mongoc_change_stream_next (stream, &change)) {\n   resume_token = mongoc_change_stream_get_resume_token (stream);\n   BSON_APPEND_DOCUMENT (&opts, "resumeAfter", resume_token);\n\n   mongoc_change_stream_destroy (stream);\n   stream = mongoc_collection_watch (collection, pipeline, &opts);\n   mongoc_change_stream_next (stream, &change);\n   mongoc_change_stream_destroy (stream);\n} else {\n   if (mongoc_change_stream_error_document (stream, &error, NULL)) {\n      MONGOC_ERROR ("%s\\n", error.message);\n   }\n\n   mongoc_change_stream_destroy (stream);\n}',
                                    linenos: false,
                                  },
                                ],
                                domain: "",
                                name: "literalinclude",
                                argument: [
                                  {
                                    type: "text",
                                    position: { start: { line: 944 } },
                                    value:
                                      "/driver-examples/test-mongoc-sample-commands.c",
                                  },
                                ],
                                options: {
                                  language: "C",
                                  dedent: 3,
                                  "start-after": "Start Changestream Example 3",
                                  "end-before": "End Changestream Example 3",
                                },
                              },
                            ],
                            domain: "",
                            name: "tab",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 854 } },
                                value: "C",
                              },
                            ],
                            options: { tabid: "c" },
                          },
                          {
                            type: "directive",
                            position: { start: { line: 918 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 921 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 921 } },
                                    value: "In the example below, the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 921 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 921 } },
                                        value: "resumeToken",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 921 } },
                                    value:
                                      " is retrieved from the last change stream document\nand passed to the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 921 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 921 } },
                                        value: "Watch()",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 921 } },
                                    value: " method as an option. Passing the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 921 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 921 } },
                                        value: "resumeToken",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 921 } },
                                    value: "\nto the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 921 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 921 } },
                                        value: "Watch()",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 921 } },
                                    value:
                                      " method directs\nthe change stream to attempt to resume notifications starting after the\noperation specified in the resume token.",
                                  },
                                ],
                              },
                              {
                                type: "directive",
                                position: { start: { line: 929 } },
                                children: [
                                  {
                                    type: "code",
                                    position: { start: { line: 929 } },
                                    lang: "csharp",
                                    copyable: true,
                                    value:
                                      "  var resumeToken = previousCursor.GetResumeToken();\n  var options = new ChangeStreamOptions { ResumeAfter = resumeToken };\n  var cursor = inventory.Watch(options);\n  cursor.MoveNext();\n  var next = cursor.Current.First();\n  cursor.Dispose();",
                                    linenos: false,
                                  },
                                ],
                                domain: "",
                                name: "literalinclude",
                                argument: [
                                  {
                                    type: "text",
                                    position: { start: { line: 929 } },
                                    value:
                                      "/driver-examples/ChangeStreamExamples.cs",
                                  },
                                ],
                                options: {
                                  language: "csharp",
                                  dedent: 14,
                                  "start-after": "Start Changestream Example 3",
                                  "end-before": "End Changestream Example 3",
                                },
                              },
                            ],
                            domain: "",
                            name: "tab",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 854 } },
                                value: "C#",
                              },
                            ],
                            options: { tabid: "csharp" },
                          },
                          {
                            type: "directive",
                            position: { start: { line: 996 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 999 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 999 } },
                                    value: "You can use ",
                                  },
                                  {
                                    type: "reference",
                                    position: { start: { line: 999 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 999 } },
                                        value:
                                          "ChangeStreamOptions.SetResumeAfter",
                                      },
                                    ],
                                    refuri:
                                      "https://godoc.org/go.mongodb.org/mongo-driver/mongo/options#ChangeStreamOptions.SetResumeAfter",
                                  },
                                  {
                                    type: "named_reference",
                                    position: { start: { line: 999 } },
                                    refname:
                                      "ChangeStreamOptions.SetResumeAfter",
                                    refuri:
                                      "https://godoc.org/go.mongodb.org/mongo-driver/mongo/options#ChangeStreamOptions.SetResumeAfter",
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 999 } },
                                    value:
                                      "\nto specify the resume\ntoken for the change stream. If the resumeAfter option is set,\nthe change stream resumes notifications after the operation\nspecified in the resume token. The ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 999 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 999 } },
                                        value: "SetResumeAfter",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 999 } },
                                    value:
                                      " takes a\nvalue that must resolve to a resume token, e.g.\n",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 999 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 999 } },
                                        value: "resumeToken",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 999 } },
                                    value: " in the example below.",
                                  },
                                ],
                              },
                              {
                                type: "directive",
                                position: { start: { line: 1008 } },
                                children: [
                                  {
                                    type: "code",
                                    position: { start: { line: 1008 } },
                                    lang: "go",
                                    copyable: true,
                                    value:
                                      "resumeToken := original.ResumeToken()\n\ncs, err := coll.Watch(ctx, mongo.Pipeline{}, options.ChangeStream().SetResumeAfter(resumeToken))\nassert.NoError(t, err)\ndefer cs.Close(ctx)\n\nok = cs.Next(ctx)\nresult := cs.Current\n",
                                    linenos: false,
                                  },
                                ],
                                domain: "",
                                name: "literalinclude",
                                argument: [
                                  {
                                    type: "text",
                                    position: { start: { line: 1008 } },
                                    value: "/driver-examples/go_examples.go",
                                  },
                                ],
                                options: {
                                  language: "go",
                                  dedent: 2,
                                  "start-after": "Start Changestream Example 3",
                                  "end-before": "End Changestream Example 3",
                                },
                              },
                            ],
                            domain: "",
                            name: "tab",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 854 } },
                                value: "Go",
                              },
                            ],
                            options: { tabid: "go" },
                          },
                          {
                            type: "directive",
                            position: { start: { line: 887 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 890 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 890 } },
                                    value: "You can use the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 890 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 890 } },
                                        value: "resumeAfter()",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 890 } },
                                    value:
                                      " method to resume\nnotifications after the operation specified in the resume\ntoken. The ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 890 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 890 } },
                                        value: "resumeAfter()",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 890 } },
                                    value:
                                      " method takes a value that must\nresolve to a resume token, e.g. ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 890 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 890 } },
                                        value: "resumeToken",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 890 } },
                                    value: " in the\nexample below.",
                                  },
                                ],
                              },
                              {
                                type: "directive",
                                position: { start: { line: 896 } },
                                children: [
                                  {
                                    type: "code",
                                    position: { start: { line: 896 } },
                                    lang: "java",
                                    copyable: true,
                                    value:
                                      "BsonDocument resumeToken = next.getResumeToken();\ncursor = inventory.watch().resumeAfter(resumeToken).iterator();\nnext = cursor.next();",
                                    linenos: false,
                                  },
                                ],
                                domain: "",
                                name: "literalinclude",
                                argument: [
                                  {
                                    type: "text",
                                    position: { start: { line: 896 } },
                                    value:
                                      "/driver-examples/DocumentationSamples.java",
                                  },
                                ],
                                options: {
                                  language: "java",
                                  dedent: 8,
                                  "start-after": "Start Changestream Example 3",
                                  "end-before": "End Changestream Example 3",
                                },
                              },
                            ],
                            domain: "",
                            name: "tab",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 854 } },
                                value: "Java (Sync)",
                              },
                            ],
                            options: { tabid: "java-sync" },
                          },
                          {
                            type: "directive",
                            position: { start: { line: 902 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 905 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 905 } },
                                    value: "You can use the ",
                                  },
                                  {
                                    type: "reference",
                                    position: { start: { line: 905 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 905 } },
                                        value: "ChangeStreamFlow.resumeAfter()",
                                      },
                                    ],
                                    refuri:
                                      "https://mongodb.github.io/mongo-java-driver/4.11/apidocs/mongodb-driver-kotlin-coroutine/mongodb-driver-kotlin-coroutine/com.mongodb.kotlin.client.coroutine/-change-stream-flow/resume-after.html",
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 905 } },
                                    value:
                                      "\nmethod to resume notifications after the operation specified in the resume\ntoken. The ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 905 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 905 } },
                                        value: "resumeAfter()",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 905 } },
                                    value:
                                      " method takes a value that must\nresolve to a resume token, such as the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 905 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 905 } },
                                        value: "resumeToken",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 905 } },
                                    value: " variable in the\nexample below.",
                                  },
                                ],
                              },
                              {
                                type: "directive",
                                position: { start: { line: 912 } },
                                children: [
                                  {
                                    type: "code",
                                    position: { start: { line: 912 } },
                                    lang: "kotlin",
                                    copyable: true,
                                    value:
                                      "val resumeToken = BsonDocument()\nval job = launch {\n    val changeStream = collection.watch()\n        .resumeAfter(resumeToken)\n    changeStream.collect {\n        println(it)\n    }\n}",
                                    linenos: false,
                                  },
                                ],
                                domain: "",
                                name: "literalinclude",
                                argument: [
                                  {
                                    type: "text",
                                    position: { start: { line: 912 } },
                                    value:
                                      "/driver-examples/kotlin_examples.kt",
                                  },
                                ],
                                options: {
                                  language: "kotlin",
                                  dedent: true,
                                  "start-after": "Start Changestream Example 3",
                                  "end-before": "End Changestream Example 3",
                                },
                              },
                            ],
                            domain: "",
                            name: "tab",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 854 } },
                                value: "Kotlin (Coroutine)",
                              },
                            ],
                            options: { tabid: "kotlin-coroutine" },
                          },
                          {
                            type: "directive",
                            position: { start: { line: 872 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 875 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 875 } },
                                    value: "You can use the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 875 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 875 } },
                                        value: "resume_after",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 875 } },
                                    value:
                                      " modifier to resume\nnotifications after the operation specified in the resume\ntoken. The ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 875 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 875 } },
                                        value: "resume_after",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 875 } },
                                    value:
                                      " modifier takes a value that must\nresolve to a resume token, e.g. ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 875 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 875 } },
                                        value: "resume_token",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 875 } },
                                    value: " in the\nexample below.",
                                  },
                                ],
                              },
                              {
                                type: "directive",
                                position: { start: { line: 881 } },
                                children: [
                                  {
                                    type: "code",
                                    position: { start: { line: 881 } },
                                    lang: "python",
                                    copyable: true,
                                    value:
                                      "resume_token = cursor.resume_token\ncursor = db.inventory.watch(resume_after=resume_token)\ndocument = await cursor.next()",
                                    linenos: false,
                                  },
                                ],
                                domain: "",
                                name: "literalinclude",
                                argument: [
                                  {
                                    type: "text",
                                    position: { start: { line: 881 } },
                                    value:
                                      "/driver-examples/test_examples_motor.py",
                                  },
                                ],
                                options: {
                                  language: "python",
                                  dedent: 12,
                                  "start-after": "Start Changestream Example 3",
                                  "end-before": "End Changestream Example 3",
                                },
                              },
                            ],
                            domain: "",
                            name: "tab",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 854 } },
                                value: "Motor",
                              },
                            ],
                            options: { tabid: "motor" },
                          },
                          {
                            type: "directive",
                            position: { start: { line: 951 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 954 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 954 } },
                                    value: "You can use the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 954 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 954 } },
                                        value: "resumeAfter",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 954 } },
                                    value:
                                      " option to resume\nnotifications after the operation specified in the resume\ntoken. The ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 954 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 954 } },
                                        value: "resumeAfter",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 954 } },
                                    value:
                                      " option takes a value that must\nresolve to a resume token, e.g. ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 954 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 954 } },
                                        value: "resumeToken",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 954 } },
                                    value: " in the\nexample below.",
                                  },
                                ],
                              },
                              {
                                type: "directive",
                                position: { start: { line: 960 } },
                                children: [
                                  {
                                    type: "code",
                                    position: { start: { line: 960 } },
                                    lang: "javascript",
                                    copyable: true,
                                    value:
                                      "const collection = db.collection('inventory');\nconst changeStream = collection.watch();\n\nlet newChangeStream;\nchangeStream\n  .once('change', next => {\n    const resumeToken = changeStream.resumeToken;\n    changeStream.close();\n\n    newChangeStream = collection.watch([], { resumeAfter: resumeToken });\n    newChangeStream\n      .on('change', next => {\n        processChange(next);\n      })\n      .once('error', error => {\n        // handle error\n      });\n  })\n  .once('error', error => {\n    // handle error\n  });",
                                    linenos: false,
                                  },
                                ],
                                domain: "",
                                name: "literalinclude",
                                argument: [
                                  {
                                    type: "text",
                                    position: { start: { line: 960 } },
                                    value:
                                      "/driver-examples/node_changestreams.js",
                                  },
                                ],
                                options: {
                                  language: "javascript",
                                  dedent: 6,
                                  "start-after": "Start Changestream Example 3",
                                  "end-before": "End Changestream Example 3",
                                },
                              },
                            ],
                            domain: "",
                            name: "tab",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 854 } },
                                value: "Node.js",
                              },
                            ],
                            options: { tabid: "nodejs" },
                          },
                          {
                            type: "directive",
                            position: { start: { line: 966 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 969 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 969 } },
                                    value: "You can use the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 969 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 969 } },
                                        value: "resumeAfter",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 969 } },
                                    value:
                                      " option to resume\nnotifications after the operation specified in the resume\ntoken. The ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 969 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 969 } },
                                        value: "resumeAfter",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 969 } },
                                    value:
                                      " option takes a value that must\nresolve to a resume token, e.g. ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 969 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 969 } },
                                        value: "$resumeToken",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 969 } },
                                    value: " in the\nexample below.",
                                  },
                                ],
                              },
                              {
                                type: "directive",
                                position: { start: { line: 975 } },
                                children: [
                                  {
                                    type: "code",
                                    position: { start: { line: 975 } },
                                    lang: "php",
                                    copyable: true,
                                    value:
                                      "$resumeToken = $changeStream->getResumeToken();\n\nif ($resumeToken === null) {\n    throw new \\Exception('Resume token was not found');\n}\n\n$changeStream = $db->inventory->watch([], ['resumeAfter' => $resumeToken]);\n$changeStream->rewind();\n\n$firstChange = $changeStream->current();",
                                    linenos: false,
                                  },
                                ],
                                domain: "",
                                name: "literalinclude",
                                argument: [
                                  {
                                    type: "text",
                                    position: { start: { line: 975 } },
                                    value:
                                      "/driver-examples/DocumentationExamplesTest.php",
                                  },
                                ],
                                options: {
                                  language: "php",
                                  dedent: 8,
                                  "start-after": "Start Changestream Example 3",
                                  "end-before": "End Changestream Example 3",
                                },
                              },
                            ],
                            domain: "",
                            name: "tab",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 854 } },
                                value: "PHP",
                              },
                            ],
                            options: { tabid: "php" },
                          },
                          {
                            type: "directive",
                            position: { start: { line: 856 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 859 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 859 } },
                                    value: "You can use the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 859 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 859 } },
                                        value: "resume_after",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 859 } },
                                    value:
                                      " modifier to resume\nnotifications after the operation specified in the resume\ntoken. The ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 859 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 859 } },
                                        value: "resume_after",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 859 } },
                                    value:
                                      " modifier takes a value that must\nresolve to a resume token, e.g. ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 859 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 859 } },
                                        value: "resume_token",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 859 } },
                                    value: " in the\nexample below.",
                                  },
                                ],
                              },
                              {
                                type: "directive",
                                position: { start: { line: 866 } },
                                children: [
                                  {
                                    type: "code",
                                    position: { start: { line: 866 } },
                                    lang: "python",
                                    copyable: true,
                                    value:
                                      "resume_token = cursor.resume_token\ncursor = db.inventory.watch(resume_after=resume_token)\nnext(cursor)",
                                    linenos: false,
                                  },
                                ],
                                domain: "",
                                name: "literalinclude",
                                argument: [
                                  {
                                    type: "text",
                                    position: { start: { line: 866 } },
                                    value: "/driver-examples/test_examples.py",
                                  },
                                ],
                                options: {
                                  language: "python",
                                  dedent: 12,
                                  "start-after": "Start Changestream Example 3",
                                  "end-before": "End Changestream Example 3",
                                },
                              },
                            ],
                            domain: "",
                            name: "tab",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 854 } },
                                value: "Python",
                              },
                            ],
                            options: { tabid: "python" },
                          },
                          {
                            type: "directive",
                            position: { start: { line: 981 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 984 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 984 } },
                                    value: "You can use the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 984 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 984 } },
                                        value: "resume_after",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 984 } },
                                    value:
                                      " modifier to resume\nnotifications after the operation specified in the resume\ntoken. The ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 984 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 984 } },
                                        value: "resume_after",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 984 } },
                                    value:
                                      " modifier takes a value that must\nresolve to a resume token, e.g. ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 984 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 984 } },
                                        value: "resume_token",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 984 } },
                                    value: " in the\nexample below.",
                                  },
                                ],
                              },
                              {
                                type: "directive",
                                position: { start: { line: 990 } },
                                children: [
                                  {
                                    type: "code",
                                    position: { start: { line: 990 } },
                                    lang: "ruby",
                                    copyable: true,
                                    value:
                                      "\n  change_stream = inventory.watch\n  cursor = change_stream.to_enum\n  next_change = cursor.next\n  resume_token = change_stream.resume_token\n\n  new_cursor = inventory.watch([], resume_after: resume_token).to_enum\n  resumed_change = new_cursor.next\n",
                                    linenos: false,
                                  },
                                ],
                                domain: "",
                                name: "literalinclude",
                                argument: [
                                  {
                                    type: "text",
                                    position: { start: { line: 990 } },
                                    value:
                                      "/driver-examples/change_stream_examples_spec.rb",
                                  },
                                ],
                                options: {
                                  language: "ruby",
                                  dedent: 6,
                                  "start-after": "Start Changestream Example 3",
                                  "end-before": "End Changestream Example 3",
                                },
                              },
                            ],
                            domain: "",
                            name: "tab",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 854 } },
                                value: "Ruby",
                              },
                            ],
                            options: { tabid: "ruby" },
                          },
                          {
                            type: "directive",
                            position: { start: { line: 1029 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 1032 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 1032 } },
                                    value: "You can use the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 1032 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1032 } },
                                        value: "resumeAfter",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 1032 } },
                                    value:
                                      " option to resume\nnotifications after the operation specified in the resume\ntoken. The ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 1032 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1032 } },
                                        value: "resumeAfter",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 1032 } },
                                    value:
                                      " option takes a value that must\nresolve to a resume token, e.g. ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 1032 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1032 } },
                                        value: "resumeToken",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 1032 } },
                                    value: " in the\nexample below.",
                                  },
                                ],
                              },
                              {
                                type: "directive",
                                position: { start: { line: 1038 } },
                                children: [
                                  {
                                    type: "code",
                                    position: { start: { line: 1038 } },
                                    lang: "swift",
                                    copyable: true,
                                    value:
                                      'let inventory = db.collection("inventory")\n\ninventory.watch(options: ChangeStreamOptions(fullDocument: .updateLookup))\n    .flatMap { changeStream in\n        changeStream.next().map { _ in\n            changeStream.resumeToken\n        }.always { _ in\n            _ = changeStream.kill()\n        }\n    }.flatMap { resumeToken in\n        inventory.watch(options: ChangeStreamOptions(resumeAfter: resumeToken)).flatMap { newStream in\n            newStream.forEach { event in\n                // process event\n                print(event)\n            }\n        }\n    }',
                                    linenos: false,
                                  },
                                ],
                                domain: "",
                                name: "literalinclude",
                                argument: [
                                  {
                                    type: "text",
                                    position: { start: { line: 1038 } },
                                    value: "/driver-examples/swiftAsync.swift",
                                  },
                                ],
                                options: {
                                  language: "swift",
                                  dedent: 8,
                                  "start-after": "Start Changestream Example 3",
                                  "end-before": "End Changestream Example 3",
                                },
                              },
                            ],
                            domain: "",
                            name: "tab",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 854 } },
                                value: "Swift (Async)",
                              },
                            ],
                            options: { tabid: "swift-async" },
                          },
                          {
                            type: "directive",
                            position: { start: { line: 1014 } },
                            children: [
                              {
                                type: "paragraph",
                                position: { start: { line: 1017 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 1017 } },
                                    value: "You can use the ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 1017 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1017 } },
                                        value: "resumeAfter",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 1017 } },
                                    value:
                                      " option to resume\nnotifications after the operation specified in the resume\ntoken. The ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 1017 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1017 } },
                                        value: "resumeAfter",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 1017 } },
                                    value:
                                      " option takes a value that must\nresolve to a resume token, e.g. ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 1017 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1017 } },
                                        value: "resumeToken",
                                      },
                                    ],
                                  },
                                  {
                                    type: "text",
                                    position: { start: { line: 1017 } },
                                    value: " in the\nexample below.",
                                  },
                                ],
                              },
                              {
                                type: "directive",
                                position: { start: { line: 1023 } },
                                children: [
                                  {
                                    type: "code",
                                    position: { start: { line: 1023 } },
                                    lang: "swift",
                                    copyable: true,
                                    value:
                                      'let inventory = db.collection("inventory")\nlet changeStream = try inventory.watch(options: ChangeStreamOptions(fullDocument: .updateLookup))\nlet next = changeStream.next()\n\nlet resumeToken = changeStream.resumeToken\nlet resumedChangeStream = try inventory.watch(options: ChangeStreamOptions(resumeAfter: resumeToken))\nlet nextAfterResume = resumedChangeStream.next()',
                                    linenos: false,
                                  },
                                ],
                                domain: "",
                                name: "literalinclude",
                                argument: [
                                  {
                                    type: "text",
                                    position: { start: { line: 1023 } },
                                    value: "/driver-examples/swiftSync.swift",
                                  },
                                ],
                                options: {
                                  language: "swift",
                                  dedent: 8,
                                  "start-after": "Start Changestream Example 3",
                                  "end-before": "End Changestream Example 3",
                                },
                              },
                            ],
                            domain: "",
                            name: "tab",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 854 } },
                                value: "Swift (Sync)",
                              },
                            ],
                            options: { tabid: "swift-sync" },
                          },
                        ],
                        domain: "",
                        name: "tabs",
                        argument: [],
                        options: { tabset: "drivers" },
                      },
                      {
                        type: "target",
                        position: { start: { line: 1044 } },
                        children: [
                          {
                            type: "target_identifier",
                            position: { start: { line: 1044 } },
                            children: [
                              {
                                type: "literal",
                                position: { start: { line: 1047 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 1047 } },
                                    value: "startAfter",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 1047 } },
                                value: " for Change Streams",
                              },
                            ],
                            ids: ["change-stream-start-after"],
                          },
                        ],
                        domain: "std",
                        name: "label",
                        html_id: "std-label-change-stream-start-after",
                      },
                    ],
                  },
                  {
                    type: "section",
                    position: { start: { line: 1047 } },
                    children: [
                      {
                        type: "heading",
                        position: { start: { line: 1047 } },
                        children: [
                          {
                            type: "literal",
                            position: { start: { line: 1047 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1047 } },
                                value: "startAfter",
                              },
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 1047 } },
                            value: " for Change Streams",
                          },
                        ],
                        id: "startafter-for-change-streams",
                      },
                      {
                        type: "paragraph",
                        position: { start: { line: 1049 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 1049 } },
                            value:
                              "You can start a new change stream after a specific event by passing a resume\ntoken to ",
                          },
                          {
                            type: "literal",
                            position: { start: { line: 1049 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1049 } },
                                value: "startAfter",
                              },
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 1049 } },
                            value: " when opening the cursor. Unlike\n",
                          },
                          {
                            type: "ref_role",
                            position: { start: { line: 1049 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1049 } },
                                value: "resumeAfter",
                              },
                            ],
                            domain: "std",
                            name: "label",
                            target: "change-stream-resume-after",
                            flag: "",
                            fileid: [
                              "changeStreams",
                              "std-label-change-stream-resume-after",
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 1049 } },
                            value: ", ",
                          },
                          {
                            type: "literal",
                            position: { start: { line: 1049 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1049 } },
                                value: "startAfter",
                              },
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 1049 } },
                            value: " can\nresume notifications after an ",
                          },
                          {
                            type: "ref_role",
                            position: { start: { line: 1049 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1049 } },
                                value: "invalidate event",
                              },
                            ],
                            domain: "std",
                            name: "label",
                            target: "change-event-invalidate",
                            flag: "",
                            fileid: [
                              "reference/change-events/invalidate",
                              "std-label-change-event-invalidate",
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 1049 } },
                            value: "\nby creating a new change stream.",
                          },
                        ],
                      },
                      {
                        type: "paragraph",
                        position: { start: { line: 1055 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 1055 } },
                            value: "See ",
                          },
                          {
                            type: "ref_role",
                            position: { start: { line: 1055 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1055 } },
                                value: "Resume Tokens",
                              },
                            ],
                            domain: "std",
                            name: "label",
                            target: "change-stream-resume-token",
                            flag: "",
                            fileid: [
                              "changeStreams",
                              "std-label-change-stream-resume-token",
                            ],
                          },
                          {
                            type: "text",
                            position: { start: { line: 1055 } },
                            value: " for more information on the resume token.",
                          },
                        ],
                      },
                      {
                        type: "directive",
                        position: { start: { line: 1057 } },
                        children: [
                          {
                            type: "list",
                            position: { start: { line: 1059 } },
                            children: [
                              {
                                type: "listItem",
                                position: { start: { line: 1059 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 1059 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1059 } },
                                        value:
                                          "The oplog must have enough history to locate the operation\nassociated with the token or the timestamp, if the timestamp is in\nthe past.",
                                      },
                                    ],
                                  },
                                ],
                              },
                            ],
                            enumtype: "unordered",
                          },
                        ],
                        domain: "",
                        name: "important",
                        argument: [],
                      },
                      {
                        type: "target",
                        position: { start: { line: 1063 } },
                        children: [
                          {
                            type: "target_identifier",
                            position: { start: { line: 1063 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1066 } },
                                value: "Resume Tokens",
                              },
                            ],
                            ids: ["change-stream-resume-token"],
                          },
                        ],
                        domain: "std",
                        name: "label",
                        html_id: "std-label-change-stream-resume-token",
                      },
                    ],
                  },
                  {
                    type: "section",
                    position: { start: { line: 1066 } },
                    children: [
                      {
                        type: "heading",
                        position: { start: { line: 1066 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 1066 } },
                            value: "Resume Tokens",
                          },
                        ],
                        id: "resume-tokens",
                      },
                      {
                        type: "paragraph",
                        position: { start: { line: 1068 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 1068 } },
                            value:
                              "The resume token is available from multiple sources:",
                          },
                        ],
                      },
                      {
                        type: "directive",
                        position: { start: { line: 1070 } },
                        children: [
                          {
                            type: "list",
                            position: { start: { line: 1075 } },
                            children: [
                              {
                                type: "listItem",
                                position: { start: { line: 1075 } },
                                children: [
                                  {
                                    type: "list",
                                    position: { start: { line: 1075 } },
                                    children: [
                                      {
                                        type: "listItem",
                                        position: { start: { line: 1075 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 1075 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 1075 },
                                                },
                                                value: "Source",
                                              },
                                            ],
                                          },
                                        ],
                                      },
                                      {
                                        type: "listItem",
                                        position: { start: { line: 1075 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 1076 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 1076 },
                                                },
                                                value: "Description",
                                              },
                                            ],
                                          },
                                        ],
                                      },
                                    ],
                                    enumtype: "unordered",
                                  },
                                ],
                              },
                              {
                                type: "listItem",
                                position: { start: { line: 1075 } },
                                children: [
                                  {
                                    type: "list",
                                    position: { start: { line: 1078 } },
                                    children: [
                                      {
                                        type: "listItem",
                                        position: { start: { line: 1078 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 1078 } },
                                            children: [
                                              {
                                                type: "ref_role",
                                                position: {
                                                  start: { line: 1078 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 1078 },
                                                    },
                                                    value: "Change Events",
                                                  },
                                                ],
                                                domain: "std",
                                                name: "label",
                                                target:
                                                  "change-event-resume-token",
                                                flag: "",
                                                fileid: [
                                                  "changeStreams",
                                                  "std-label-change-event-resume-token",
                                                ],
                                              },
                                            ],
                                          },
                                        ],
                                      },
                                      {
                                        type: "listItem",
                                        position: { start: { line: 1078 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 1079 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 1079 },
                                                },
                                                value:
                                                  "Each change event notification includes a resume token\non the ",
                                              },
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 1079 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 1079 },
                                                    },
                                                    value: "_id",
                                                  },
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 1079 },
                                                },
                                                value: " field.",
                                              },
                                            ],
                                          },
                                        ],
                                      },
                                    ],
                                    enumtype: "unordered",
                                  },
                                ],
                              },
                              {
                                type: "listItem",
                                position: { start: { line: 1075 } },
                                children: [
                                  {
                                    type: "list",
                                    position: { start: { line: 1082 } },
                                    children: [
                                      {
                                        type: "listItem",
                                        position: { start: { line: 1082 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 1082 } },
                                            children: [
                                              {
                                                type: "ref_role",
                                                position: {
                                                  start: { line: 1082 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 1082 },
                                                    },
                                                    value: "Aggregation",
                                                  },
                                                ],
                                                domain: "std",
                                                name: "label",
                                                target:
                                                  "aggregate-resume-token",
                                                flag: "",
                                                fileid: [
                                                  "changeStreams",
                                                  "std-label-aggregate-resume-token",
                                                ],
                                              },
                                            ],
                                          },
                                        ],
                                      },
                                      {
                                        type: "listItem",
                                        position: { start: { line: 1082 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 1083 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 1083 },
                                                },
                                                value: "The ",
                                              },
                                              {
                                                type: "ref_role",
                                                position: {
                                                  start: { line: 1083 },
                                                },
                                                children: [
                                                  {
                                                    type: "literal",
                                                    position: {
                                                      start: { line: 1083 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "text",
                                                        position: {
                                                          start: { line: 1083 },
                                                        },
                                                        value: "$changeStream",
                                                      },
                                                    ],
                                                  },
                                                ],
                                                domain: "mongodb",
                                                name: "pipeline",
                                                target: "pipe.$changeStream",
                                                flag: "",
                                                fileid: [
                                                  "reference/operator/aggregation/changeStream",
                                                  "mongodb-pipeline-pipe.-changeStream",
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 1083 },
                                                },
                                                value:
                                                  " aggregation stage includes\na resume token on the ",
                                              },
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 1083 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 1083 },
                                                    },
                                                    value:
                                                      "cursor.postBatchResumeToken",
                                                  },
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 1083 },
                                                },
                                                value: " field.",
                                              },
                                            ],
                                          },
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 1086 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 1086 },
                                                },
                                                value:
                                                  "This field only appears when using the ",
                                              },
                                              {
                                                type: "ref_role",
                                                position: {
                                                  start: { line: 1086 },
                                                },
                                                children: [
                                                  {
                                                    type: "literal",
                                                    position: {
                                                      start: { line: 1086 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "text",
                                                        position: {
                                                          start: { line: 1086 },
                                                        },
                                                        value: "aggregate",
                                                      },
                                                    ],
                                                  },
                                                ],
                                                domain: "mongodb",
                                                name: "dbcommand",
                                                target: "dbcmd.aggregate",
                                                flag: "",
                                                fileid: [
                                                  "reference/command/aggregate",
                                                  "mongodb-dbcommand-dbcmd.aggregate",
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 1086 },
                                                },
                                                value: "\ncommand.",
                                              },
                                            ],
                                          },
                                        ],
                                      },
                                    ],
                                    enumtype: "unordered",
                                  },
                                ],
                              },
                              {
                                type: "listItem",
                                position: { start: { line: 1075 } },
                                children: [
                                  {
                                    type: "list",
                                    position: { start: { line: 1089 } },
                                    children: [
                                      {
                                        type: "listItem",
                                        position: { start: { line: 1089 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 1089 } },
                                            children: [
                                              {
                                                type: "ref_role",
                                                position: {
                                                  start: { line: 1089 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 1089 },
                                                    },
                                                    value: "Get More",
                                                  },
                                                ],
                                                domain: "std",
                                                name: "label",
                                                target: "getMore-resume-token",
                                                flag: "",
                                                fileid: [
                                                  "changeStreams",
                                                  "std-label-getMore-resume-token",
                                                ],
                                              },
                                            ],
                                          },
                                        ],
                                      },
                                      {
                                        type: "listItem",
                                        position: { start: { line: 1089 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 1090 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 1090 },
                                                },
                                                value: "The ",
                                              },
                                              {
                                                type: "ref_role",
                                                position: {
                                                  start: { line: 1090 },
                                                },
                                                children: [
                                                  {
                                                    type: "literal",
                                                    position: {
                                                      start: { line: 1090 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "text",
                                                        position: {
                                                          start: { line: 1090 },
                                                        },
                                                        value: "getMore",
                                                      },
                                                    ],
                                                  },
                                                ],
                                                domain: "mongodb",
                                                name: "dbcommand",
                                                target: "dbcmd.getMore",
                                                flag: "",
                                                fileid: [
                                                  "reference/command/getMore",
                                                  "mongodb-dbcommand-dbcmd.getMore",
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 1090 },
                                                },
                                                value:
                                                  " command includes a resume token on the\n",
                                              },
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 1090 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 1090 },
                                                    },
                                                    value:
                                                      "cursor.postBatchResumeToken",
                                                  },
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 1090 },
                                                },
                                                value: " field.",
                                              },
                                            ],
                                          },
                                        ],
                                      },
                                    ],
                                    enumtype: "unordered",
                                  },
                                ],
                              },
                            ],
                            enumtype: "unordered",
                          },
                        ],
                        domain: "",
                        name: "list-table",
                        argument: [],
                        options: {
                          "header-rows": 1,
                          "stub-columns": 1,
                          widths: "20 80",
                        },
                      },
                      {
                        type: "directive",
                        position: { start: { line: 1093 } },
                        children: [
                          {
                            type: "root",
                            position: { start: { line: 0 } },
                            children: [
                              {
                                type: "directive",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value:
                                          "Starting in MongoDB 4.2, change streams will throw an exception if\nthe ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value:
                                              "change stream aggregation pipeline",
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "change-stream-modify-output",
                                        flag: "",
                                        fileid: [
                                          "changeStreams",
                                          "std-label-change-stream-modify-output",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: " modifies an event's ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: "_id",
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "change-stream-event-id",
                                        flag: "",
                                        fileid: [
                                          "reference/change-events",
                                          "std-label-change-stream-event-id",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: " field.",
                                      },
                                    ],
                                  },
                                ],
                                domain: "",
                                name: "extract",
                                argument: [],
                              },
                            ],
                            fileid: "includes/extracts-4.2-changes.yaml",
                          },
                        ],
                        domain: "",
                        name: "include",
                        argument: [
                          {
                            type: "text",
                            position: { start: { line: 1093 } },
                            value:
                              "/includes/extracts/4.2-changes-change-stream-modification-error.rst",
                          },
                        ],
                      },
                      {
                        type: "directive",
                        position: { start: { line: 1095 } },
                        children: [
                          {
                            type: "directive",
                            position: { start: { line: 1097 } },
                            children: [
                              {
                                type: "root",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: "MongoDB provides a ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: '"snippet"',
                                          },
                                        ],
                                        domain: "std",
                                        name: "label",
                                        target: "snip-overview",
                                        flag: "",
                                        url: "https://www.mongodb.com/docs/mongodb-shell/snippets/#std-label-snip-overview",
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value: ", an\nextension to ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "literal",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                value: "mongosh",
                                              },
                                            ],
                                          },
                                        ],
                                        domain: "mongodb",
                                        name: "binary",
                                        target: "bin.mongosh",
                                        flag: "~",
                                        url: "https://www.mongodb.com/docs/mongodb-shell/#mongodb-binary-bin.mongosh",
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 0 } },
                                        value:
                                          ", that decodes hex-encoded\nresume tokens.",
                                      },
                                    ],
                                  },
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 4 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 4 } },
                                        value: "You can install and run the ",
                                      },
                                      {
                                        type: "reference",
                                        position: { start: { line: 4 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 4 } },
                                            value: "resumetoken",
                                          },
                                        ],
                                        refuri:
                                          "https://github.com/mongodb-labs/mongosh-snippets/tree/main/snippets/resumetoken",
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 4 } },
                                        value: "\nsnippet from ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 4 } },
                                        children: [
                                          {
                                            type: "literal",
                                            position: { start: { line: 4 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 4 },
                                                },
                                                value: "mongosh",
                                              },
                                            ],
                                          },
                                        ],
                                        domain: "mongodb",
                                        name: "binary",
                                        target: "bin.mongosh",
                                        flag: "~",
                                        url: "https://www.mongodb.com/docs/mongodb-shell/#mongodb-binary-bin.mongosh",
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 4 } },
                                        value: ":",
                                      },
                                    ],
                                  },
                                  {
                                    type: "code",
                                    position: { start: { line: 8 } },
                                    lang: "javascript",
                                    copyable: true,
                                    emphasize_lines: [],
                                    value:
                                      "snippet install resumetoken\ndecodeResumeToken('<RESUME TOKEN>')",
                                    linenos: false,
                                  },
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 13 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 13 } },
                                        value: "You can also run ",
                                      },
                                      {
                                        type: "reference",
                                        position: { start: { line: 13 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 13 } },
                                            value: "resumetoken",
                                          },
                                        ],
                                        refuri:
                                          "https://github.com/mongodb-labs/mongosh-snippets/tree/main/snippets/resumetoken",
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 13 } },
                                        value:
                                          "\nfrom the command line (without using ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 13 } },
                                        children: [
                                          {
                                            type: "literal",
                                            position: { start: { line: 13 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 13 },
                                                },
                                                value: "mongosh",
                                              },
                                            ],
                                          },
                                        ],
                                        domain: "mongodb",
                                        name: "binary",
                                        target: "bin.mongosh",
                                        flag: "~",
                                        url: "https://www.mongodb.com/docs/mongodb-shell/#mongodb-binary-bin.mongosh",
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 13 } },
                                        value: ") if ",
                                      },
                                      {
                                        type: "literal",
                                        position: { start: { line: 13 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 13 } },
                                            value: "npm",
                                          },
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 13 } },
                                        value: "\nis installed on your system:",
                                      },
                                    ],
                                  },
                                  {
                                    type: "code",
                                    position: { start: { line: 18 } },
                                    lang: "javascript",
                                    copyable: true,
                                    emphasize_lines: [],
                                    value:
                                      "npx mongodb-resumetoken-decoder <RESUME TOKEN>",
                                    linenos: false,
                                  },
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 22 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 22 } },
                                        value:
                                          "See the following for more details on:",
                                      },
                                    ],
                                  },
                                  {
                                    type: "list",
                                    position: { start: { line: 24 } },
                                    children: [
                                      {
                                        type: "listItem",
                                        position: { start: { line: 24 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 24 } },
                                            children: [
                                              {
                                                type: "reference",
                                                position: {
                                                  start: { line: 24 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 24 },
                                                    },
                                                    value: "resumetoken",
                                                  },
                                                ],
                                                refuri:
                                                  "https://github.com/mongodb-labs/mongosh-snippets/tree/main/snippets/resumetoken",
                                              },
                                            ],
                                          },
                                        ],
                                      },
                                      {
                                        type: "listItem",
                                        position: { start: { line: 24 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 26 } },
                                            children: [
                                              {
                                                type: "ref_role",
                                                position: {
                                                  start: { line: 26 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 26 },
                                                    },
                                                    value: "using snippets",
                                                  },
                                                ],
                                                domain: "std",
                                                name: "label",
                                                target: "snip-using-snippets",
                                                flag: "",
                                                url: "https://www.mongodb.com/docs/mongodb-shell/snippets/working-with-snippets/#std-label-snip-using-snippets",
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 26 },
                                                },
                                                value: " in ",
                                              },
                                              {
                                                type: "ref_role",
                                                position: {
                                                  start: { line: 26 },
                                                },
                                                children: [
                                                  {
                                                    type: "literal",
                                                    position: {
                                                      start: { line: 26 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "text",
                                                        position: {
                                                          start: { line: 26 },
                                                        },
                                                        value: "mongosh",
                                                      },
                                                    ],
                                                  },
                                                ],
                                                domain: "mongodb",
                                                name: "binary",
                                                target: "bin.mongosh",
                                                flag: "~",
                                                url: "https://www.mongodb.com/docs/mongodb-shell/#mongodb-binary-bin.mongosh",
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 26 },
                                                },
                                                value: ".",
                                              },
                                            ],
                                          },
                                        ],
                                      },
                                    ],
                                    enumtype: "unordered",
                                  },
                                ],
                                fileid:
                                  "includes/note-decode-resume-tokens.rst",
                              },
                            ],
                            domain: "",
                            name: "include",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 1097 } },
                                value:
                                  "/includes/note-decode-resume-tokens.rst",
                              },
                            ],
                          },
                        ],
                        domain: "",
                        name: "tip",
                        argument: [],
                      },
                      {
                        type: "target",
                        position: { start: { line: 1099 } },
                        children: [
                          {
                            type: "target_identifier",
                            position: { start: { line: 1099 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1102 } },
                                value: "Resume Tokens from Change Events",
                              },
                            ],
                            ids: ["change-event-resume-token"],
                          },
                        ],
                        domain: "std",
                        name: "label",
                        html_id: "std-label-change-event-resume-token",
                      },
                      {
                        type: "section",
                        position: { start: { line: 1102 } },
                        children: [
                          {
                            type: "heading",
                            position: { start: { line: 1102 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1102 } },
                                value: "Resume Tokens from Change Events",
                              },
                            ],
                            id: "resume-tokens-from-change-events",
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 1104 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1104 } },
                                value:
                                  "Change event notifications include a resume token on the ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 1104 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 1104 } },
                                    value: "_id",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 1104 } },
                                value: " field:",
                              },
                            ],
                          },
                          {
                            type: "code",
                            position: { start: { line: 1106 } },
                            lang: "json",
                            copyable: false,
                            emphasize_lines: [[2, 4]],
                            value:
                              '{\n   "_id": {\n      "_data": "82635019A0000000012B042C0100296E5A1004AB1154ACACD849A48C61756D70D3B21F463C6F7065726174696F6E54797065003C696E736572740046646F63756D656E744B65790046645F69640064635019A078BE67426D7CF4D2000004"\n    },\n    "operationType": "insert",\n    "clusterTime": Timestamp({ "t": 1666193824, "i": 1 }),\n    "collectionUUID": new UUID("ab1154ac-acd8-49a4-8c61-756d70d3b21f"),\n    "wallTime": ISODate("2022-10-19T15:37:04.604Z"),\n    "fullDocument": {\n       "_id": ObjectId("635019a078be67426d7cf4d2"\'),\n       "name": "Giovanni Verga"\n    },\n    "ns": {\n       "db": "test",\n       "coll": "names"\n    },\n    "documentKey": {\n       "_id": ObjectId("635019a078be67426d7cf4d2")\n    }\n}',
                            linenos: false,
                          },
                          {
                            type: "target",
                            position: { start: { line: 1133 } },
                            children: [
                              {
                                type: "target_identifier",
                                position: { start: { line: 1133 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 1136 } },
                                    value: "Resume Tokens from ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 1136 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1136 } },
                                        value: "aggregate",
                                      },
                                    ],
                                  },
                                ],
                                ids: ["aggregate-resume-token"],
                              },
                            ],
                            domain: "std",
                            name: "label",
                            html_id: "std-label-aggregate-resume-token",
                          },
                        ],
                      },
                      {
                        type: "section",
                        position: { start: { line: 1136 } },
                        children: [
                          {
                            type: "heading",
                            position: { start: { line: 1136 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1136 } },
                                value: "Resume Tokens from ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 1136 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 1136 } },
                                    value: "aggregate",
                                  },
                                ],
                              },
                            ],
                            id: "resume-tokens-from-aggregate",
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 1138 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1138 } },
                                value: "When using the ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 1138 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 1138 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1138 } },
                                        value: "aggregate",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "dbcommand",
                                target: "dbcmd.aggregate",
                                flag: "",
                                fileid: [
                                  "reference/command/aggregate",
                                  "mongodb-dbcommand-dbcmd.aggregate",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 1138 } },
                                value: " command, the ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 1138 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 1138 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1138 } },
                                        value: "$changeStream",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "pipeline",
                                target: "pipe.$changeStream",
                                flag: "",
                                fileid: [
                                  "reference/operator/aggregation/changeStream",
                                  "mongodb-pipeline-pipe.-changeStream",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 1138 } },
                                value:
                                  "\naggregation stage includes a resume token on the\n",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 1138 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 1138 } },
                                    value: "cursor.postBatchResumeToken",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 1138 } },
                                value: " field:",
                              },
                            ],
                          },
                          {
                            type: "code",
                            position: { start: { line: 1142 } },
                            lang: "json",
                            copyable: false,
                            emphasize_lines: [[4, 6]],
                            value:
                              '{\n   "cursor": {\n      "firstBatch": [],\n      "postBatchResumeToken": {\n         "_data": "8263515EAC000000022B0429296E1404"\n      },\n      "id": Long("4309380460777152828"),\n      "ns": "test.names"\n   },\n   "ok": 1,\n   "$clusterTime": {\n      "clusterTime": Timestamp({ "t": 1666277036, "i": 1 }),\n      "signature": {\n         "hash": Binary(Buffer.from("0000000000000000000000000000000000000000", "hex"), 0),\n         "keyId": Long("0")\n      }\n   },\n   "operationTime": Timestamp({ "t": 1666277036, "i": 1 })\n}',
                            linenos: false,
                          },
                          {
                            type: "target",
                            position: { start: { line: 1166 } },
                            children: [
                              {
                                type: "target_identifier",
                                position: { start: { line: 1166 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 1169 } },
                                    value: "Resume Tokens from ",
                                  },
                                  {
                                    type: "literal",
                                    position: { start: { line: 1169 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1169 } },
                                        value: "getMore",
                                      },
                                    ],
                                  },
                                ],
                                ids: ["getMore-resume-token"],
                              },
                            ],
                            domain: "std",
                            name: "label",
                            html_id: "std-label-getMore-resume-token",
                          },
                        ],
                      },
                      {
                        type: "section",
                        position: { start: { line: 1169 } },
                        children: [
                          {
                            type: "heading",
                            position: { start: { line: 1169 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1169 } },
                                value: "Resume Tokens from ",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 1169 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 1169 } },
                                    value: "getMore",
                                  },
                                ],
                              },
                            ],
                            id: "resume-tokens-from-getmore",
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 1171 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1171 } },
                                value: "The ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 1171 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 1171 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1171 } },
                                        value: "getMore",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "dbcommand",
                                target: "dbcmd.getMore",
                                flag: "",
                                fileid: [
                                  "reference/command/getMore",
                                  "mongodb-dbcommand-dbcmd.getMore",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 1171 } },
                                value:
                                  " command also includes a resume token on the\n",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 1171 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 1171 } },
                                    value: "cursor.postBatchResumeToken",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 1171 } },
                                value: " field:",
                              },
                            ],
                          },
                          {
                            type: "code",
                            position: { start: { line: 1174 } },
                            lang: "json",
                            copyable: false,
                            emphasize_lines: [[4, 6]],
                            value:
                              '{\n   "cursor": {\n      "nextBatch": [],\n      "postBatchResumeToken": {\n         "_data": "8263515979000000022B0429296E1404"\n      },\n      "id": Long("7049907285270685005"),\n      "ns": "test.names"\n   },\n   "ok": 1,\n   "$clusterTime": {\n      "clusterTime": Timestamp( { "t": 1666275705, "i": 1 } ),\n      "signature": {\n         "hash": Binary(Buffer.from("0000000000000000000000000000000000000000", "hex"), 0),\n         "keyId": Long("0")\n      }\n   },\n   "operationTime": Timestamp({ "t": 1666275705, "i": 1 })\n}',
                            linenos: false,
                          },
                        ],
                      },
                    ],
                  },
                ],
              },
              {
                type: "section",
                position: { start: { line: 1200 } },
                children: [
                  {
                    type: "heading",
                    position: { start: { line: 1200 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 1200 } },
                        value: "Use Cases",
                      },
                    ],
                    id: "use-cases",
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 1202 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 1202 } },
                        value:
                          "Change streams can benefit architectures with reliant business systems,\ninforming downstream systems once data changes are durable. For example,\nchange streams can save time for developers when implementing Extract,\nTransform, and Load (ETL) services, cross-platform synchronization,\ncollaboration functionality, and notification services.",
                      },
                    ],
                  },
                  {
                    type: "target",
                    position: { start: { line: 1208 } },
                    children: [
                      {
                        type: "target_identifier",
                        position: { start: { line: 1208 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 1211 } },
                            value: "Access Control",
                          },
                        ],
                        ids: ["change-streams-access"],
                      },
                    ],
                    domain: "std",
                    name: "label",
                    html_id: "std-label-change-streams-access",
                  },
                ],
              },
              {
                type: "section",
                position: { start: { line: 1211 } },
                children: [
                  {
                    type: "heading",
                    position: { start: { line: 1211 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 1211 } },
                        value: "Access Control",
                      },
                    ],
                    id: "access-control",
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 1213 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 1213 } },
                        value: "For deployments enforcing ",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 1213 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 1213 } },
                            value: "Authentication on Self-Managed Deployments",
                          },
                        ],
                        domain: "std",
                        name: "label",
                        target: "authentication",
                        flag: "",
                        fileid: [
                          "core/authentication",
                          "std-label-authentication",
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 1213 } },
                        value: " and ",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 1213 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 1213 } },
                            value: "authorization",
                          },
                        ],
                        domain: "std",
                        name: "label",
                        target: "authorization",
                        flag: "",
                        fileid: [
                          "core/authorization",
                          "std-label-authorization",
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 1213 } },
                        value: ":",
                      },
                    ],
                  },
                  {
                    type: "list",
                    position: { start: { line: 1216 } },
                    children: [
                      {
                        type: "listItem",
                        position: { start: { line: 1216 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 1216 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1216 } },
                                value:
                                  "To open a change stream against specific collection, applications\nmust have privileges that grant ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 1216 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 1216 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1216 } },
                                        value: "changeStream",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "authaction",
                                target: "changeStream",
                                flag: "",
                                fileid: [
                                  "reference/privilege-actions",
                                  "mongodb-authaction-changeStream",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 1216 } },
                                value: " and\n",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 1216 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 1216 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1216 } },
                                        value: "find",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "authaction",
                                target: "find",
                                flag: "",
                                fileid: [
                                  "reference/privilege-actions",
                                  "mongodb-authaction-find",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 1216 } },
                                value:
                                  " actions on the corresponding collection.",
                              },
                            ],
                          },
                          {
                            type: "code",
                            position: { start: { line: 1220 } },
                            lang: "javascript",
                            copyable: true,
                            emphasize_lines: [],
                            value:
                              '{ resource: { db: <dbname>, collection: <collection> }, actions: [ "find", "changeStream" ] }',
                            linenos: false,
                          },
                        ],
                      },
                      {
                        type: "listItem",
                        position: { start: { line: 1216 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 1224 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1224 } },
                                value:
                                  "To open a change stream on a single database, applications must have\nprivileges that grant ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 1224 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 1224 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1224 } },
                                        value: "changeStream",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "authaction",
                                target: "changeStream",
                                flag: "",
                                fileid: [
                                  "reference/privilege-actions",
                                  "mongodb-authaction-changeStream",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 1224 } },
                                value: " and\n",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 1224 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 1224 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1224 } },
                                        value: "find",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "authaction",
                                target: "find",
                                flag: "",
                                fileid: [
                                  "reference/privilege-actions",
                                  "mongodb-authaction-find",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 1224 } },
                                value: " actions on all non-",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 1224 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 1224 } },
                                    value: "system",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 1224 } },
                                value: " collections in the\ndatabase.",
                              },
                            ],
                          },
                          {
                            type: "code",
                            position: { start: { line: 1229 } },
                            lang: "javascript",
                            copyable: true,
                            emphasize_lines: [],
                            value:
                              '{ resource: { db: <dbname>, collection: "" }, actions: [ "find", "changeStream" ] }',
                            linenos: false,
                          },
                        ],
                      },
                      {
                        type: "listItem",
                        position: { start: { line: 1216 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 1233 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 1233 } },
                                value:
                                  "To open a change stream on an entire deployment, applications must\nhave privileges that grant ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 1233 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 1233 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1233 } },
                                        value: "changeStream",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "authaction",
                                target: "changeStream",
                                flag: "",
                                fileid: [
                                  "reference/privilege-actions",
                                  "mongodb-authaction-changeStream",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 1233 } },
                                value: " and\n",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 1233 } },
                                children: [
                                  {
                                    type: "literal",
                                    position: { start: { line: 1233 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 1233 } },
                                        value: "find",
                                      },
                                    ],
                                  },
                                ],
                                domain: "mongodb",
                                name: "authaction",
                                target: "find",
                                flag: "",
                                fileid: [
                                  "reference/privilege-actions",
                                  "mongodb-authaction-find",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 1233 } },
                                value: " actions on all non-",
                              },
                              {
                                type: "literal",
                                position: { start: { line: 1233 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 1233 } },
                                    value: "system",
                                  },
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 1233 } },
                                value:
                                  " collections for all\ndatabases in the deployment.",
                              },
                            ],
                          },
                          {
                            type: "code",
                            position: { start: { line: 1238 } },
                            lang: "javascript",
                            copyable: true,
                            emphasize_lines: [],
                            value:
                              '{ resource: { db: "", collection: "" }, actions: [ "find", "changeStream" ] }',
                            linenos: false,
                          },
                        ],
                      },
                    ],
                    enumtype: "unordered",
                  },
                  {
                    type: "target",
                    position: { start: { line: 1242 } },
                    children: [
                      {
                        type: "target_identifier",
                        position: { start: { line: 1242 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 1245 } },
                            value: "Event Notification",
                          },
                        ],
                        ids: ["change-streams-event-notification"],
                      },
                    ],
                    domain: "std",
                    name: "label",
                    html_id: "std-label-change-streams-event-notification",
                  },
                ],
              },
              {
                type: "section",
                position: { start: { line: 1245 } },
                children: [
                  {
                    type: "heading",
                    position: { start: { line: 1245 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 1245 } },
                        value: "Event Notification",
                      },
                    ],
                    id: "event-notification",
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 1247 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 1247 } },
                        value:
                          "Change streams only notify on data changes that have persisted to a majority\nof data-bearing members in the replica set. This ensures that notifications are\ntriggered only by majority-committed changes that are durable in failure\nscenarios.",
                      },
                    ],
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 1252 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 1252 } },
                        value: "For example, consider a 3-member ",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 1252 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 1252 } },
                            value: "replica set",
                          },
                        ],
                        domain: "std",
                        name: "term",
                        target: "replica set",
                        flag: "",
                        fileid: ["reference/glossary", "std-term-replica-set"],
                      },
                      {
                        type: "text",
                        position: { start: { line: 1252 } },
                        value:
                          " with a change stream\ncursor opened against the ",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 1252 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 1252 } },
                            value: "primary",
                          },
                        ],
                        domain: "std",
                        name: "term",
                        target: "primary",
                        flag: "",
                        fileid: ["reference/glossary", "std-term-primary"],
                      },
                      {
                        type: "text",
                        position: { start: { line: 1252 } },
                        value:
                          ". If a client issues an insert\noperation, the change stream only notifies the application of the data change\nonce that insert has persisted to a majority of data-bearing members.",
                      },
                    ],
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 1257 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 1257 } },
                        value: "If an operation is associated with a ",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 1257 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 1257 } },
                            value: "transaction",
                          },
                        ],
                        domain: "std",
                        name: "doc",
                        target: "",
                        flag: "",
                        fileid: ["/core/transactions", ""],
                      },
                      {
                        type: "text",
                        position: { start: { line: 1257 } },
                        value: ", the change event document includes the\n",
                      },
                      {
                        type: "literal",
                        position: { start: { line: 1257 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 1257 } },
                            value: "txnNumber",
                          },
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 1257 } },
                        value: " and the ",
                      },
                      {
                        type: "literal",
                        position: { start: { line: 1257 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 1257 } },
                            value: "lsid",
                          },
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 1257 } },
                        value: ".",
                      },
                    ],
                  },
                ],
              },
              {
                type: "section",
                position: { start: { line: 1262 } },
                children: [
                  {
                    type: "heading",
                    position: { start: { line: 1262 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 1262 } },
                        value: "Collation",
                      },
                    ],
                    id: "collation",
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 1264 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 1264 } },
                        value: "Change streams use ",
                      },
                      {
                        type: "literal",
                        position: { start: { line: 1264 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 1264 } },
                            value: "simple",
                          },
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 1264 } },
                        value:
                          " binary comparisons unless an explicit collation is\nprovided.",
                      },
                    ],
                  },
                ],
              },
              {
                type: "section",
                position: { start: { line: 1268 } },
                children: [
                  {
                    type: "heading",
                    position: { start: { line: 1268 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 1268 } },
                        value: "Change Streams and Orphan Documents",
                      },
                    ],
                    id: "change-streams-and-orphan-documents",
                  },
                  {
                    type: "directive",
                    position: { start: { line: 1270 } },
                    children: [
                      {
                        type: "root",
                        position: { start: { line: 0 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 0 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 0 } },
                                value: "Starting in MongoDB 5.3, during ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 0 } },
                                    value: "range migration",
                                  },
                                ],
                                domain: "std",
                                name: "label",
                                target: "range-migration-procedure",
                                flag: "",
                                fileid: [
                                  "core/sharding-balancer-administration",
                                  "std-label-range-migration-procedure",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 0 } },
                                value: ", ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 0 } },
                                    value: "change stream",
                                  },
                                ],
                                domain: "std",
                                name: "label",
                                target: "changeStreams",
                                flag: "",
                                fileid: [
                                  "changeStreams",
                                  "std-label-changeStreams",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 0 } },
                                value:
                                  "\nevents are not generated for updates to ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 0 } },
                                    value: "orphaned documents",
                                  },
                                ],
                                domain: "std",
                                name: "term",
                                target: "orphaned document",
                                flag: "",
                                fileid: [
                                  "reference/glossary",
                                  "std-term-orphaned-document",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 0 } },
                                value: ".",
                              },
                            ],
                          },
                        ],
                        fileid: "includes/change-streams-and-orphans.rst",
                      },
                    ],
                    domain: "",
                    name: "include",
                    argument: [
                      {
                        type: "text",
                        position: { start: { line: 1270 } },
                        value: "/includes/change-streams-and-orphans.rst",
                      },
                    ],
                  },
                  {
                    type: "target",
                    position: { start: { line: 1272 } },
                    children: [
                      {
                        type: "target_identifier",
                        position: { start: { line: 1272 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 1275 } },
                            value:
                              "Change Streams with Document Pre- and Post-Images",
                          },
                        ],
                        ids: ["change-stream-pre-post-images"],
                      },
                    ],
                    domain: "std",
                    name: "label",
                    html_id: "std-label-change-stream-pre-post-images",
                  },
                ],
              },
              {
                type: "section",
                position: { start: { line: 1275 } },
                children: [
                  {
                    type: "heading",
                    position: { start: { line: 1275 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 1275 } },
                        value:
                          "Change Streams with Document Pre- and Post-Images",
                      },
                    ],
                    id: "change-streams-with-document-pre--and-post-images",
                  },
                  {
                    type: "directive",
                    position: { start: { line: 1277 } },
                    children: [
                      {
                        type: "root",
                        position: { start: { line: 0 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 0 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 0 } },
                                value: "Starting in MongoDB 6.0, you can use ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 0 } },
                                    value: "change stream events",
                                  },
                                ],
                                domain: "std",
                                name: "label",
                                target: "change-stream-output",
                                flag: "",
                                fileid: [
                                  "reference/change-events",
                                  "std-label-change-stream-output",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 0 } },
                                value:
                                  " to output the version of a document before and\nafter changes (the document pre- and post-images):",
                              },
                            ],
                          },
                          {
                            type: "list",
                            position: { start: { line: 4 } },
                            children: [
                              {
                                type: "listItem",
                                position: { start: { line: 4 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 4 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 4 } },
                                        value:
                                          "The pre-image is the document before it was replaced, updated, or\ndeleted. There is no pre-image for an inserted document.",
                                      },
                                    ],
                                  },
                                ],
                              },
                              {
                                type: "listItem",
                                position: { start: { line: 4 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 7 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 7 } },
                                        value:
                                          "The post-image is the document after it was inserted, replaced, or\nupdated. There is no post-image for a deleted document.",
                                      },
                                    ],
                                  },
                                ],
                              },
                              {
                                type: "listItem",
                                position: { start: { line: 4 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 10 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 10 } },
                                        value: "Enable ",
                                      },
                                      {
                                        type: "literal",
                                        position: { start: { line: 10 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 10 } },
                                            value:
                                              "changeStreamPreAndPostImages",
                                          },
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 10 } },
                                        value: " for a collection using\n",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 10 } },
                                        children: [
                                          {
                                            type: "literal",
                                            position: { start: { line: 10 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 10 },
                                                },
                                                value: "db.createCollection()",
                                              },
                                            ],
                                          },
                                        ],
                                        domain: "mongodb",
                                        name: "method",
                                        target: "db.createCollection",
                                        flag: "",
                                        fileid: [
                                          "reference/method/db.createCollection",
                                          "mongodb-method-db.createCollection",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 10 } },
                                        value: ", ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 10 } },
                                        children: [
                                          {
                                            type: "literal",
                                            position: { start: { line: 10 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 10 },
                                                },
                                                value: "create",
                                              },
                                            ],
                                          },
                                        ],
                                        domain: "mongodb",
                                        name: "dbcommand",
                                        target: "dbcmd.create",
                                        flag: "",
                                        fileid: [
                                          "reference/command/create",
                                          "mongodb-dbcommand-dbcmd.create",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 10 } },
                                        value: ", or\n",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 10 } },
                                        children: [
                                          {
                                            type: "literal",
                                            position: { start: { line: 10 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 10 },
                                                },
                                                value: "collMod",
                                              },
                                            ],
                                          },
                                        ],
                                        domain: "mongodb",
                                        name: "dbcommand",
                                        target: "dbcmd.collMod",
                                        flag: "",
                                        fileid: [
                                          "reference/command/collMod",
                                          "mongodb-dbcommand-dbcmd.collMod",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 10 } },
                                        value: ".",
                                      },
                                    ],
                                  },
                                ],
                              },
                            ],
                            enumtype: "unordered",
                          },
                        ],
                        fileid:
                          "includes/change-stream-pre-and-post-images-introduction.rst",
                      },
                    ],
                    domain: "",
                    name: "include",
                    argument: [
                      {
                        type: "text",
                        position: { start: { line: 1277 } },
                        value:
                          "/includes/change-stream-pre-and-post-images-introduction.rst",
                      },
                    ],
                  },
                  {
                    type: "directive",
                    position: { start: { line: 1279 } },
                    children: [
                      {
                        type: "root",
                        position: { start: { line: 0 } },
                        children: [
                          {
                            type: "paragraph",
                            position: { start: { line: 0 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 0 } },
                                value:
                                  "Pre- and post-images are not available for a ",
                              },
                              {
                                type: "ref_role",
                                position: { start: { line: 0 } },
                                children: [
                                  {
                                    type: "text",
                                    position: { start: { line: 0 } },
                                    value: "change stream event",
                                  },
                                ],
                                domain: "std",
                                name: "label",
                                target: "change-stream-output",
                                flag: "",
                                fileid: [
                                  "reference/change-events",
                                  "std-label-change-stream-output",
                                ],
                              },
                              {
                                type: "text",
                                position: { start: { line: 0 } },
                                value: " if the images were:",
                              },
                            ],
                          },
                          {
                            type: "list",
                            position: { start: { line: 3 } },
                            children: [
                              {
                                type: "listItem",
                                position: { start: { line: 3 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 3 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 3 } },
                                        value:
                                          "Not enabled on the collection at the time of a document update or\ndelete operation.",
                                      },
                                    ],
                                  },
                                ],
                              },
                              {
                                type: "listItem",
                                position: { start: { line: 3 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 6 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 6 } },
                                        value:
                                          "Removed after the pre- and post-image retention time set in\n",
                                      },
                                      {
                                        type: "literal",
                                        position: { start: { line: 6 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 6 } },
                                            value: "expireAfterSeconds",
                                          },
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 6 } },
                                        value: ".",
                                      },
                                    ],
                                  },
                                  {
                                    type: "list",
                                    position: { start: { line: 9 } },
                                    children: [
                                      {
                                        type: "listItem",
                                        position: { start: { line: 9 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 9 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 9 },
                                                },
                                                value:
                                                  "The following example sets ",
                                              },
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 9 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 9 },
                                                    },
                                                    value: "expireAfterSeconds",
                                                  },
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 9 },
                                                },
                                                value: " to ",
                                              },
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 9 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 9 },
                                                    },
                                                    value: "100",
                                                  },
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 9 },
                                                },
                                                value:
                                                  "\nseconds on an entire cluster:",
                                              },
                                            ],
                                          },
                                          {
                                            type: "code",
                                            position: { start: { line: 12 } },
                                            lang: "javascript",
                                            copyable: true,
                                            emphasize_lines: [],
                                            value:
                                              "use admin\ndb.runCommand( {\n   setClusterParameter:\n      { changeStreamOptions: {\n         preAndPostImages: { expireAfterSeconds: 100 }\n      } }\n} )",
                                            linenos: false,
                                          },
                                        ],
                                      },
                                      {
                                        type: "listItem",
                                        position: { start: { line: 9 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 22 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 22 },
                                                },
                                                value:
                                                  "The following example returns the current ",
                                              },
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 22 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 22 },
                                                    },
                                                    value:
                                                      "changeStreamOptions",
                                                  },
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 22 },
                                                },
                                                value: "\nsettings, including ",
                                              },
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 22 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 22 },
                                                    },
                                                    value: "expireAfterSeconds",
                                                  },
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 22 },
                                                },
                                                value: ":",
                                              },
                                            ],
                                          },
                                          {
                                            type: "code",
                                            position: { start: { line: 25 } },
                                            lang: "javascript",
                                            copyable: true,
                                            emphasize_lines: [],
                                            value:
                                              'db.adminCommand( { getClusterParameter: "changeStreamOptions" } )',
                                            linenos: false,
                                          },
                                        ],
                                      },
                                      {
                                        type: "listItem",
                                        position: { start: { line: 9 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 29 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 29 },
                                                },
                                                value: "Setting ",
                                              },
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 29 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 29 },
                                                    },
                                                    value: "expireAfterSeconds",
                                                  },
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 29 },
                                                },
                                                value: " to ",
                                              },
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 29 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 29 },
                                                    },
                                                    value: "off",
                                                  },
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 29 },
                                                },
                                                value:
                                                  " uses the default retention\npolicy: pre- and post-images are retained until the corresponding\nchange stream events are removed from the ",
                                              },
                                              {
                                                type: "ref_role",
                                                position: {
                                                  start: { line: 29 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 29 },
                                                    },
                                                    value: "oplog",
                                                  },
                                                ],
                                                domain: "std",
                                                name: "term",
                                                target: "oplog",
                                                flag: "",
                                                fileid: [
                                                  "reference/glossary",
                                                  "std-term-oplog",
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 29 },
                                                },
                                                value: ".",
                                              },
                                            ],
                                          },
                                        ],
                                      },
                                      {
                                        type: "listItem",
                                        position: { start: { line: 9 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 33 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 33 },
                                                },
                                                value:
                                                  "If a change stream event is removed from the oplog, then the\ncorresponding pre- and post-images are also deleted regardless of\nthe ",
                                              },
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 33 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 33 },
                                                    },
                                                    value: "expireAfterSeconds",
                                                  },
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 33 },
                                                },
                                                value:
                                                  " pre- and post-image retention time.",
                                              },
                                            ],
                                          },
                                        ],
                                      },
                                    ],
                                    enumtype: "unordered",
                                  },
                                ],
                              },
                            ],
                            enumtype: "unordered",
                          },
                          {
                            type: "paragraph",
                            position: { start: { line: 37 } },
                            children: [
                              {
                                type: "text",
                                position: { start: { line: 37 } },
                                value: "Additional considerations:",
                              },
                            ],
                          },
                          {
                            type: "list",
                            position: { start: { line: 39 } },
                            children: [
                              {
                                type: "listItem",
                                position: { start: { line: 39 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 39 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 39 } },
                                        value:
                                          "Enabling pre- and post-images consumes storage space and adds\nprocessing time. Only enable pre- and post-images if you need them.",
                                      },
                                    ],
                                  },
                                ],
                              },
                              {
                                type: "listItem",
                                position: { start: { line: 39 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 42 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 42 } },
                                        value:
                                          "Limit the change stream event size to less than 16 mebibytes. To limit\nthe event size, you can:",
                                      },
                                    ],
                                  },
                                  {
                                    type: "list",
                                    position: { start: { line: 45 } },
                                    children: [
                                      {
                                        type: "listItem",
                                        position: { start: { line: 45 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 45 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 45 },
                                                },
                                                value:
                                                  "Limit the document size to 8 megabytes. You can request pre- and\npost-images simultaneously in the ",
                                              },
                                              {
                                                type: "ref_role",
                                                position: {
                                                  start: { line: 45 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 45 },
                                                    },
                                                    value:
                                                      "change stream output",
                                                  },
                                                ],
                                                domain: "std",
                                                name: "label",
                                                target: "change-stream-output",
                                                flag: "",
                                                fileid: [
                                                  "reference/change-events",
                                                  "std-label-change-stream-output",
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 45 },
                                                },
                                                value:
                                                  " if other change stream event fields like\n",
                                              },
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 45 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 45 },
                                                    },
                                                    value: "updateDescription",
                                                  },
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 45 },
                                                },
                                                value: " are not large.",
                                              },
                                            ],
                                          },
                                        ],
                                      },
                                      {
                                        type: "listItem",
                                        position: { start: { line: 45 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 50 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 50 },
                                                },
                                                value:
                                                  "Request only post-images in the change stream output for documents\nup to 16 mebibytes if other change stream event fields like\n",
                                              },
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 50 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 50 },
                                                    },
                                                    value: "updateDescription",
                                                  },
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 50 },
                                                },
                                                value: " are not large.",
                                              },
                                            ],
                                          },
                                        ],
                                      },
                                      {
                                        type: "listItem",
                                        position: { start: { line: 45 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 54 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 54 },
                                                },
                                                value:
                                                  "Request only pre-images in the change stream output for documents up\nto 16 mebibytes if:",
                                              },
                                            ],
                                          },
                                          {
                                            type: "list",
                                            position: { start: { line: 57 } },
                                            children: [
                                              {
                                                type: "listItem",
                                                position: {
                                                  start: { line: 57 },
                                                },
                                                children: [
                                                  {
                                                    type: "paragraph",
                                                    position: {
                                                      start: { line: 57 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "text",
                                                        position: {
                                                          start: { line: 57 },
                                                        },
                                                        value:
                                                          "document updates affect only a small fraction of the document\nstructure or content, ",
                                                      },
                                                      {
                                                        type: "emphasis",
                                                        position: {
                                                          start: { line: 57 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "text",
                                                            position: {
                                                              start: {
                                                                line: 57,
                                                              },
                                                            },
                                                            value: "and",
                                                          },
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                ],
                                              },
                                              {
                                                type: "listItem",
                                                position: {
                                                  start: { line: 57 },
                                                },
                                                children: [
                                                  {
                                                    type: "paragraph",
                                                    position: {
                                                      start: { line: 60 },
                                                    },
                                                    children: [
                                                      {
                                                        type: "text",
                                                        position: {
                                                          start: { line: 60 },
                                                        },
                                                        value:
                                                          "do not cause a ",
                                                      },
                                                      {
                                                        type: "literal",
                                                        position: {
                                                          start: { line: 60 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "text",
                                                            position: {
                                                              start: {
                                                                line: 60,
                                                              },
                                                            },
                                                            value: "replace",
                                                          },
                                                        ],
                                                      },
                                                      {
                                                        type: "text",
                                                        position: {
                                                          start: { line: 60 },
                                                        },
                                                        value:
                                                          " change event. A ",
                                                      },
                                                      {
                                                        type: "literal",
                                                        position: {
                                                          start: { line: 60 },
                                                        },
                                                        children: [
                                                          {
                                                            type: "text",
                                                            position: {
                                                              start: {
                                                                line: 60,
                                                              },
                                                            },
                                                            value: "replace",
                                                          },
                                                        ],
                                                      },
                                                      {
                                                        type: "text",
                                                        position: {
                                                          start: { line: 60 },
                                                        },
                                                        value:
                                                          " event\nalways includes the post-image.",
                                                      },
                                                    ],
                                                  },
                                                ],
                                              },
                                            ],
                                            enumtype: "unordered",
                                          },
                                        ],
                                      },
                                    ],
                                    enumtype: "unordered",
                                  },
                                ],
                              },
                              {
                                type: "listItem",
                                position: { start: { line: 39 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 63 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 63 } },
                                        value:
                                          "To request a pre-image, you set ",
                                      },
                                      {
                                        type: "literal",
                                        position: { start: { line: 63 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 63 } },
                                            value: "fullDocumentBeforeChange",
                                          },
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 63 } },
                                        value: " to\n",
                                      },
                                      {
                                        type: "literal",
                                        position: { start: { line: 63 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 63 } },
                                            value: "required",
                                          },
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 63 } },
                                        value: " or ",
                                      },
                                      {
                                        type: "literal",
                                        position: { start: { line: 63 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 63 } },
                                            value: "whenAvailable",
                                          },
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 63 } },
                                        value: " in ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 63 } },
                                        children: [
                                          {
                                            type: "literal",
                                            position: { start: { line: 63 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 63 },
                                                },
                                                value: "db.collection.watch()",
                                              },
                                            ],
                                          },
                                        ],
                                        domain: "mongodb",
                                        name: "method",
                                        target: "db.collection.watch",
                                        flag: "",
                                        fileid: [
                                          "reference/method/db.collection.watch",
                                          "mongodb-method-db.collection.watch",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 63 } },
                                        value:
                                          ".\nTo request a post-image, you set ",
                                      },
                                      {
                                        type: "literal",
                                        position: { start: { line: 63 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 63 } },
                                            value: "fullDocument",
                                          },
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 63 } },
                                        value: " using the same\nmethod.",
                                      },
                                    ],
                                  },
                                ],
                              },
                              {
                                type: "listItem",
                                position: { start: { line: 39 } },
                                children: [
                                  {
                                    type: "paragraph",
                                    position: { start: { line: 68 } },
                                    children: [
                                      {
                                        type: "text",
                                        position: { start: { line: 68 } },
                                        value: "Pre-images are written to the ",
                                      },
                                      {
                                        type: "ref_role",
                                        position: { start: { line: 68 } },
                                        children: [
                                          {
                                            type: "literal",
                                            position: { start: { line: 68 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 68 },
                                                },
                                                value:
                                                  "config.system.preimages",
                                              },
                                            ],
                                          },
                                        ],
                                        domain: "mongodb",
                                        name: "data",
                                        target: "config.system.preimages",
                                        flag: "",
                                        fileid: [
                                          "reference/system-collections",
                                          "mongodb-data-config.system.preimages",
                                        ],
                                      },
                                      {
                                        type: "text",
                                        position: { start: { line: 68 } },
                                        value: "\ncollection.",
                                      },
                                    ],
                                  },
                                  {
                                    type: "list",
                                    position: { start: { line: 71 } },
                                    children: [
                                      {
                                        type: "listItem",
                                        position: { start: { line: 71 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 71 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 71 },
                                                },
                                                value: "The ",
                                              },
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 71 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 71 },
                                                    },
                                                    value:
                                                      "config.system.preimages",
                                                  },
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 71 },
                                                },
                                                value:
                                                  " collection may become large. To\nlimit the collection size, you can set ",
                                              },
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 71 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 71 },
                                                    },
                                                    value: "expireAfterSeconds",
                                                  },
                                                ],
                                              },
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 71 },
                                                },
                                                value:
                                                  "\ntime for the pre-images as shown earlier.",
                                              },
                                            ],
                                          },
                                        ],
                                      },
                                      {
                                        type: "listItem",
                                        position: { start: { line: 71 } },
                                        children: [
                                          {
                                            type: "paragraph",
                                            position: { start: { line: 75 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 75 },
                                                },
                                                value:
                                                  "Pre-images are removed asynchronously by a background process.",
                                              },
                                            ],
                                          },
                                        ],
                                      },
                                    ],
                                    enumtype: "unordered",
                                  },
                                ],
                              },
                            ],
                            enumtype: "unordered",
                          },
                          {
                            type: "directive",
                            position: { start: { line: 77 } },
                            children: [
                              {
                                type: "directive",
                                position: { start: { line: 79 } },
                                children: [
                                  {
                                    type: "root",
                                    position: { start: { line: 0 } },
                                    children: [
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 0 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value:
                                              "Starting in MongoDB 6.0, if you are using document pre- and post-images\nfor ",
                                          },
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                value: "change streams",
                                              },
                                            ],
                                            domain: "std",
                                            name: "label",
                                            target: "change-stream-output",
                                            flag: "",
                                            fileid: [
                                              "reference/change-events",
                                              "std-label-change-stream-output",
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value: ", you must disable\n",
                                          },
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                value:
                                                  "changeStreamPreAndPostImages",
                                              },
                                            ],
                                            domain: "std",
                                            name: "label",
                                            target:
                                              "collMod-change-stream-pre-and-post-images",
                                            flag: "",
                                            fileid: [
                                              "reference/command/collMod",
                                              "std-label-collMod-change-stream-pre-and-post-images",
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value:
                                              " for each collection using\nthe ",
                                          },
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 0 } },
                                            children: [
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 0 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 0 },
                                                    },
                                                    value: "collMod",
                                                  },
                                                ],
                                              },
                                            ],
                                            domain: "mongodb",
                                            name: "dbcommand",
                                            target: "dbcmd.collMod",
                                            flag: "",
                                            fileid: [
                                              "reference/command/collMod",
                                              "mongodb-dbcommand-dbcmd.collMod",
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 0 } },
                                            value:
                                              " command before you can downgrade to an earlier\nMongoDB version.",
                                          },
                                        ],
                                      },
                                    ],
                                    fileid:
                                      "includes/downgrade-for-pre-and-post-images.rst",
                                  },
                                ],
                                domain: "",
                                name: "include",
                                argument: [
                                  {
                                    type: "text",
                                    position: { start: { line: 79 } },
                                    value:
                                      "/includes/downgrade-for-pre-and-post-images.rst",
                                  },
                                ],
                              },
                            ],
                            domain: "",
                            name: "important",
                            argument: [
                              {
                                type: "text",
                                position: { start: { line: 77 } },
                                value: "Backward-Incompatible Feature",
                              },
                            ],
                          },
                          {
                            type: "directive",
                            position: { start: { line: 81 } },
                            children: [
                              {
                                type: "list",
                                position: { start: { line: 83 } },
                                children: [
                                  {
                                    type: "listItem",
                                    position: { start: { line: 83 } },
                                    children: [
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 83 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 83 } },
                                            value:
                                              "For change stream events and output, see\n",
                                          },
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 83 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 83 },
                                                },
                                                value: "Change Events",
                                              },
                                            ],
                                            domain: "std",
                                            name: "label",
                                            target: "change-stream-output",
                                            flag: "",
                                            fileid: [
                                              "reference/change-events",
                                              "std-label-change-stream-output",
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 83 } },
                                            value: ".",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                  {
                                    type: "listItem",
                                    position: { start: { line: 83 } },
                                    children: [
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 86 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 86 } },
                                            value:
                                              "To watch a collection for changes, see\n",
                                          },
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 86 } },
                                            children: [
                                              {
                                                type: "literal",
                                                position: {
                                                  start: { line: 86 },
                                                },
                                                children: [
                                                  {
                                                    type: "text",
                                                    position: {
                                                      start: { line: 86 },
                                                    },
                                                    value:
                                                      "db.collection.watch()",
                                                  },
                                                ],
                                              },
                                            ],
                                            domain: "mongodb",
                                            name: "method",
                                            target: "db.collection.watch",
                                            flag: "",
                                            fileid: [
                                              "reference/method/db.collection.watch",
                                              "mongodb-method-db.collection.watch",
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 86 } },
                                            value: ".",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                  {
                                    type: "listItem",
                                    position: { start: { line: 83 } },
                                    children: [
                                      {
                                        type: "paragraph",
                                        position: { start: { line: 89 } },
                                        children: [
                                          {
                                            type: "text",
                                            position: { start: { line: 89 } },
                                            value:
                                              "For complete examples with the change stream output, see\n",
                                          },
                                          {
                                            type: "ref_role",
                                            position: { start: { line: 89 } },
                                            children: [
                                              {
                                                type: "text",
                                                position: {
                                                  start: { line: 89 },
                                                },
                                                value:
                                                  "Change Streams with Document Pre- and Post-Images",
                                              },
                                            ],
                                            domain: "std",
                                            name: "label",
                                            target:
                                              "db.collection.watch-change-streams-pre-and-post-images-example",
                                            flag: "",
                                            fileid: [
                                              "reference/method/db.collection.watch",
                                              "std-label-db.collection.watch-change-streams-pre-and-post-images-example",
                                            ],
                                          },
                                          {
                                            type: "text",
                                            position: { start: { line: 89 } },
                                            value: ".",
                                          },
                                        ],
                                      },
                                    ],
                                  },
                                ],
                                enumtype: "unordered",
                              },
                            ],
                            domain: "",
                            name: "seealso",
                            argument: [],
                          },
                        ],
                        fileid:
                          "includes/change-stream-pre-and-post-images-additional-information.rst",
                      },
                    ],
                    domain: "",
                    name: "include",
                    argument: [
                      {
                        type: "text",
                        position: { start: { line: 1279 } },
                        value:
                          "/includes/change-stream-pre-and-post-images-additional-information.rst",
                      },
                    ],
                  },
                  {
                    type: "paragraph",
                    position: { start: { line: 1281 } },
                    children: [
                      {
                        type: "text",
                        position: { start: { line: 1281 } },
                        value:
                          "For complete examples with the change stream output, see\n",
                      },
                      {
                        type: "ref_role",
                        position: { start: { line: 1281 } },
                        children: [
                          {
                            type: "text",
                            position: { start: { line: 1281 } },
                            value:
                              "Change Streams with Document Pre- and Post-Images",
                          },
                        ],
                        domain: "std",
                        name: "label",
                        target:
                          "db.collection.watch-change-streams-pre-and-post-images-example",
                        flag: "",
                        fileid: [
                          "reference/method/db.collection.watch",
                          "std-label-db.collection.watch-change-streams-pre-and-post-images-example",
                        ],
                      },
                      {
                        type: "text",
                        position: { start: { line: 1281 } },
                        value: ".",
                      },
                    ],
                  },
                  {
                    type: "directive",
                    position: { start: { line: 1285 } },
                    children: [],
                    domain: "",
                    name: "toctree",
                    argument: [],
                    options: { titlesonly: true, hidden: true },
                    entries: [
                      {
                        title: "Production Recommendations",
                        slug: "/administration/change-streams-production-recommendations",
                      },
                      {
                        title: "Change Events",
                        slug: "/reference/change-events",
                      },
                    ],
                  },
                ],
              },
            ],
          },
        ],
        fileid: "changeStreams.txt",
        options: {
          selectors: {
            drivers: {
              c: [
                {
                  type: "text",
                  position: { start: { line: 189 } },
                  value: "C",
                },
              ],
              csharp: [
                {
                  type: "text",
                  position: { start: { line: 189 } },
                  value: "C#",
                },
              ],
              go: [
                {
                  type: "text",
                  position: { start: { line: 189 } },
                  value: "Go",
                },
              ],
              "java-sync": [
                {
                  type: "text",
                  position: { start: { line: 189 } },
                  value: "Java (Sync)",
                },
              ],
              "kotlin-coroutine": [
                {
                  type: "text",
                  position: { start: { line: 189 } },
                  value: "Kotlin (Coroutine)",
                },
              ],
              motor: [
                {
                  type: "text",
                  position: { start: { line: 189 } },
                  value: "Motor",
                },
              ],
              nodejs: [
                {
                  type: "text",
                  position: { start: { line: 189 } },
                  value: "Node.js",
                },
              ],
              php: [
                {
                  type: "text",
                  position: { start: { line: 189 } },
                  value: "PHP",
                },
              ],
              python: [
                {
                  type: "text",
                  position: { start: { line: 189 } },
                  value: "Python",
                },
              ],
              ruby: [
                {
                  type: "text",
                  position: { start: { line: 189 } },
                  value: "Ruby",
                },
              ],
              "swift-async": [
                {
                  type: "text",
                  position: { start: { line: 189 } },
                  value: "Swift (Async)",
                },
              ],
              "swift-sync": [
                {
                  type: "text",
                  position: { start: { line: 189 } },
                  value: "Swift (Sync)",
                },
              ],
            },
          },
          headings: [
            {
              depth: 2,
              id: "availability",
              title: [
                {
                  type: "text",
                  position: { start: { line: 40 } },
                  value: "Availability",
                },
              ],
              selector_ids: {},
            },
            {
              depth: 2,
              id: "connect",
              title: [
                {
                  type: "text",
                  position: { start: { line: 67 } },
                  value: "Connect",
                },
              ],
              selector_ids: {},
            },
            {
              depth: 2,
              id: "watch-a-collection--database--or-deployment",
              title: [
                {
                  type: "text",
                  position: { start: { line: 84 } },
                  value: "Watch a Collection, Database, or Deployment",
                },
              ],
              selector_ids: {},
            },
            {
              depth: 2,
              id: "change-stream-performance-considerations",
              title: [
                {
                  type: "text",
                  position: { start: { line: 135 } },
                  value: "Change Stream Performance Considerations",
                },
              ],
              selector_ids: {},
            },
            {
              depth: 2,
              id: "open-a-change-stream",
              title: [
                {
                  type: "text",
                  position: { start: { line: 164 } },
                  value: "Open A Change Stream",
                },
              ],
              selector_ids: {},
            },
            {
              depth: 2,
              id: "modify-change-stream-output",
              title: [
                {
                  type: "text",
                  position: { start: { line: 383 } },
                  value: "Modify Change Stream Output",
                },
              ],
              selector_ids: {},
            },
            {
              depth: 2,
              id: "lookup-full-document-for-update-operations",
              title: [
                {
                  type: "text",
                  position: { start: { line: 583 } },
                  value: "Lookup Full Document for Update Operations",
                },
              ],
              selector_ids: {},
            },
            {
              depth: 2,
              id: "resume-a-change-stream",
              title: [
                {
                  type: "text",
                  position: { start: { line: 830 } },
                  value: "Resume a Change Stream",
                },
              ],
              selector_ids: {},
            },
            {
              depth: 2,
              id: "use-cases",
              title: [
                {
                  type: "text",
                  position: { start: { line: 1200 } },
                  value: "Use Cases",
                },
              ],
              selector_ids: {},
            },
            {
              depth: 2,
              id: "access-control",
              title: [
                {
                  type: "text",
                  position: { start: { line: 1211 } },
                  value: "Access Control",
                },
              ],
              selector_ids: {},
            },
            {
              depth: 2,
              id: "event-notification",
              title: [
                {
                  type: "text",
                  position: { start: { line: 1245 } },
                  value: "Event Notification",
                },
              ],
              selector_ids: {},
            },
            {
              depth: 2,
              id: "collation",
              title: [
                {
                  type: "text",
                  position: { start: { line: 1262 } },
                  value: "Collation",
                },
              ],
              selector_ids: {},
            },
            {
              depth: 2,
              id: "change-streams-and-orphan-documents",
              title: [
                {
                  type: "text",
                  position: { start: { line: 1268 } },
                  value: "Change Streams and Orphan Documents",
                },
              ],
              selector_ids: {},
            },
            {
              depth: 2,
              id: "change-streams-with-document-pre--and-post-images",
              title: [
                {
                  type: "text",
                  position: { start: { line: 1275 } },
                  value: "Change Streams with Document Pre- and Post-Images",
                },
              ],
              selector_ids: {},
            },
          ],
        },
      },
      build_id: "67bf2b6bed46cc270dd6e1ef",
      created_at: "2025-02-26T14:55:44.332Z",
      deleted: false,
      facets: [
        {
          category: "programming_language",
          value: "c",
          sub_facets: null,
          display_name: "C",
        },
        {
          category: "programming_language",
          value: "csharp",
          sub_facets: null,
          display_name: "C#",
        },
        {
          category: "programming_language",
          value: "go",
          sub_facets: null,
          display_name: "Go",
        },
        {
          category: "programming_language",
          value: "java",
          sub_facets: null,
          display_name: "Java",
        },
        {
          category: "programming_language",
          value: "javascript/typescript",
          sub_facets: null,
          display_name: "JavaScript/TypeScript",
        },
        {
          category: "programming_language",
          value: "kotlin",
          sub_facets: null,
          display_name: "Kotlin",
        },
        {
          category: "programming_language",
          value: "php",
          sub_facets: null,
          display_name: "PHP",
        },
        {
          category: "programming_language",
          value: "python",
          sub_facets: null,
          display_name: "Python",
        },
        {
          category: "programming_language",
          value: "ruby",
          sub_facets: null,
          display_name: "Ruby",
        },
        {
          category: "programming_language",
          value: "swift",
          sub_facets: null,
          display_name: "Swift",
        },
        {
          category: "genre",
          value: "reference",
          sub_facets: null,
          display_name: "Reference",
        },
        {
          category: "target_product",
          value: "docs",
          sub_facets: null,
          display_name: "Server",
        },
      ],
      filename: "changeStreams.txt",
      static_assets: [],
      updated_at: "2025-02-26T14:55:44.332Z",
    },
  };
};
